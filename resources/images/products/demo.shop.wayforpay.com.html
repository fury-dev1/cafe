<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns#" lang="ru"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="csrf-param" content="_csrf">
    <meta name="csrf-token" content="GLw1BPKzK2dO8feYpJ-bklPGu5IdpE1vPtAerXso9u0DtDU4P6l6D6cUmPhyqmmaQfC6BPLsWODOYfCPDfsDCA==">
    <title>demo.shop.wayforpay.com</title>
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="demo.shop.wayforpay.com">
    <meta property="og:url" content="https://demo.shop.wayforpay.com/">
    <meta property="og:type" content="website">
    <meta property="og:title" content="demo.shop.wayforpay.com">
    <meta property="og:description" content="">
    <meta property="og:image" content="https://w4p-merch.s3.eu-central-1.amazonaws.com/merchant/shop/images/prod_c28d90dfb951d7462e560db820363882/fa39e2fc202148b8390433a9a90ae2c9.png">
    <meta property="og:site_name" content="demo.shop.wayforpay.com">
    <meta name="description" content="">
    <meta name="keywords" content="">
    <link href="demo.shop.wayforpay.com_files/fonts.css" rel="preload stylesheet" as="style">
        <link type="image/x-icon" href="https://demo.shop.wayforpay.com/favicon.ico" rel="shortcut icon">
<link href="demo.shop.wayforpay.com_files/5aedfb246ef03de1b66225abe8d30661.css" rel="stylesheet">
<script type="text/javascript" async="" src="demo.shop.wayforpay.com_files/recaptcha__en.js" crossorigin="anonymous" integrity="sha384-EauiKN7dy30bq/wDo7lcvebLQr7wwQPtEV6A1G43RAWnhPwxWZFCCTOT/hE+ffe3"></script><script src="demo.shop.wayforpay.com_files/api.js" async="" defer="defer"></script>    <style>._3emE9--dark-theme .-S-tR--ff-downloader{background:rgba(30,30,30,.93);border:1px solid rgba(82,82,82,.54);box-shadow:0 4px 7px rgba(30,30,30,.55);color:#fff}._3emE9--dark-theme .-S-tR--ff-downloader ._6_Mtt--header ._2VdJW--minimize-btn{background:#3d4b52}._3emE9--dark-theme .-S-tR--ff-downloader ._6_Mtt--header ._2VdJW--minimize-btn:hover{background:#131415}._3emE9--dark-theme .-S-tR--ff-downloader ._10vpG--footer{background:rgba(30,30,30,.93)}._2mDEx--white-theme .-S-tR--ff-downloader{background:#fff;border:1px solid rgba(82,82,82,.54);box-shadow:0 4px 7px rgba(30,30,30,.55);color:#314c75}._2mDEx--white-theme .-S-tR--ff-downloader ._6_Mtt--header{font-weight:700}._2mDEx--white-theme .-S-tR--ff-downloader ._2dFLA--container ._2bWNS--notice{border:0;color:rgba(0,0,0,.88)}._2mDEx--white-theme .-S-tR--ff-downloader ._10vpG--footer{background:#fff}.-S-tR--ff-downloader{display:block;overflow:hidden;position:fixed;bottom:20px;right:7.1%;width:330px;height:180px;background:rgba(30,30,30,.93);border-radius:2px;color:#fff;z-index:99999999;border:1px solid rgba(82,82,82,.54);box-shadow:0 4px 7px rgba(30,30,30,.55);transition:.5s}.-S-tR--ff-downloader._3M7UQ--minimize{height:62px}.-S-tR--ff-downloader._3M7UQ--minimize .nxuu4--file-info,.-S-tR--ff-downloader._3M7UQ--minimize ._6_Mtt--header{display:none}.-S-tR--ff-downloader ._6_Mtt--header{padding:10px;font-size:17px;font-family:sans-serif}.-S-tR--ff-downloader ._6_Mtt--header ._2VdJW--minimize-btn{float:right;background:#f1ecec;height:20px;width:20px;text-align:center;padding:2px;margin-top:-10px;cursor:pointer}.-S-tR--ff-downloader ._6_Mtt--header ._2VdJW--minimize-btn:hover{background:#e2dede}.-S-tR--ff-downloader ._13XQ2--error{color:red;padding:10px;font-size:12px;line-height:19px}.-S-tR--ff-downloader ._2dFLA--container{position:relative;height:100%}.-S-tR--ff-downloader ._2dFLA--container .nxuu4--file-info{padding:6px 15px 0;font-family:sans-serif}.-S-tR--ff-downloader ._2dFLA--container .nxuu4--file-info div{margin-bottom:5px;width:100%;overflow:hidden}.-S-tR--ff-downloader ._2dFLA--container ._2bWNS--notice{margin-top:21px;font-size:11px}.-S-tR--ff-downloader ._10vpG--footer{width:100%;bottom:0;position:absolute;font-weight:700}.-S-tR--ff-downloader ._10vpG--footer ._2V73d--loader{animation:n0BD1--rotation 3.5s linear forwards;position:absolute;top:-120px;left:calc(50% - 35px);border-radius:50%;border:5px solid #fff;border-top-color:#a29bfe;height:70px;width:70px;display:flex;justify-content:center;align-items:center}.-S-tR--ff-downloader ._10vpG--footer ._24wjw--loading-bar{width:100%;height:18px;background:#dfe6e9;border-radius:5px}.-S-tR--ff-downloader ._10vpG--footer ._24wjw--loading-bar ._1FVu9--progress-bar{height:100%;background:#8bc34a;border-radius:5px}.-S-tR--ff-downloader ._10vpG--footer ._2KztS--status{margin-top:10px}.-S-tR--ff-downloader ._10vpG--footer ._2KztS--status ._1XilH--state{float:left;font-size:.9em;letter-spacing:1pt;text-transform:uppercase;width:100px;height:20px;position:relative}.-S-tR--ff-downloader ._10vpG--footer ._2KztS--status ._1jiaj--percentage{float:right}</style></head>
<body class="s2">

<style>
    .logo-actions .dropdown-menu {
        width: auto;
        top: 20px;
        left: 200px;
        padding: 0;
        font-size: 14px;
        white-space: nowrap;
    }
    .logo-actions .dropdown-item {
        color: #0062ff;
    }
    .logo-actions .dropdown-item:hover {
        color: #ffffff;
    }
    .basket-count {
        margin-top: -5px;
        background-color: red;
        border-radius: 50%;
        width: 27px;
        height: 27px;
        margin-left: 27px;
        font-size: 12px;
        line-height: 25px;
    }
    .navbar-collapse.mobile {
        overflow-y: scroll;
        position: relative;
    }
    .navbar-footer {
        margin-top: 50px;
    }
    .navbar-footer .footer a {
        color: #0062ff;
        display: grid;
    }
    .navbar-footer .footer .footer-sl-title {
        margin-top: 15px;
    }
    .navbar-footer .footer .footer-sl-links {
        display: inline-flex;
    }

    .language-select {
        margin-right: 20px;
        height: 38px;
    }

    .language-select.edit-element {
        min-width: 60px;
        height: 46px;
    }

    .language-select.edit-element button {
        border: none;
        background-color: transparent;
        padding: 12px 0;
        text-align: center;
        width: 100%;
    }

    .language-select.edit-element button:hover,
    .language-select.edit-element button:focus {
        box-shadow: none;
    }

    .language-select button,
    .language-select .dropdown-menu .dropdown-item {
        font-size: 14px;
        border-radius: 50%;
        width: 38px;
        height: 38px;
        padding: 8px;
    }

    .language-select .dropdown-menu {
        background-color: transparent;
        border: none;
        box-shadow: none;
    }

    .language-select .dropdown-menu .dropdown-item {
        border: 1px solid #e3e3e3;;
        background-color: #ffffff;
    }

    .language-select.edit-element .dropdown-menu .dropdown-item {
        border-radius: 0;
        width: 60px;
        text-align: center;
    }

    .language-select .dropdown-menu .dropdown-item:hover,
    .language-select .dropdown-menu .dropdown-item:focus {
        box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.16);
        background-color: #0062ff;
        color: #ffffff;
    }

    .language-links {
        font-weight: 600;
        padding: 15px 5px;
    }

    .language-links a {
        margin-left: 10px;
        margin-right: 20px;
        font-size: 17px;
    }
    .badge-test {
        color: #fff;
        background-color: #eb0000;
        margin-top: 10px;
        margin-left: -15px;
        border-radius: 12px;
        font-size: 12px;
        padding: 0.25em 1em;
        vertical-align: top;
    }
</style>

<header class="navbar navbar-expand-md fixed-top navbar-light bg-light">
    <div class="container">
        <div class="d-flex align-items-center navbar-head">
            <button class="navbar-toggler navbar-toggler-left x collapsed" type="button" data-toggle="collapse" data-target="#navbarText" aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
                <span class="icon-bar"></span>
                <span class="icon-bar icon-bar-short"></span>
                <span class="icon-bar"></span>
            </button>
                            <a class="navbar-brand mx-auto" href="https://demo.shop.wayforpay.com/">
                                            <img src="demo.shop.wayforpay.com_files/fa39e2fc202148b8390433a9a90ae2c9.gz" alt="logo">
                                                        </a>
                        <div class="collapse navbar-collapse desktop mr-md-3">
                <ul class="navbar-nav ml-auto ">
                                                                        <li class="nav-item active mx-0 mx-lg-2">
                                <a class="nav-link" href="https://demo.shop.wayforpay.com/" data-link="home">
                                    Магазин                                </a>
                            </li>
                                                                                                <li class="nav-item  mx-0 mx-lg-2">
                                <a class="nav-link" href="" data-link="delivery">
                                    Доставка                                </a>
                            </li>
                                                                                                <li class="nav-item  mx-0 mx-lg-2">
                                <a class="nav-link" href="" data-link="payment">
                                     Оплата и возврат                                </a>
                            </li>
                                                                                                <li class="nav-item  mx-0 mx-lg-2">
                                <a class="nav-link" href="" data-link="about">
                                    О нас                                </a>
                            </li>
                                                            </ul>
            </div>

                            <div class="dropdown language-select d-none d-md-block">
                    <button class="btn" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        RU                    </button>
                    <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                                    <a class="dropdown-item " href="https://demo.shop.wayforpay.com/uk">UA</a>
                                                    <a class="dropdown-item d-none" href="https://demo.shop.wayforpay.com/">RU</a>
                                                    <a class="dropdown-item " href="https://demo.shop.wayforpay.com/en">EN</a>
                                            </div>
                </div>

            
            <div class="shopping-basket mr-1">
                <div class="basket-count d-none">0</div>
            </div>
        </div>
                    <div class="collapse navbar-collapse mobile mr-md-5" id="navbarText">
                <ul class="navbar-nav ml-auto">
                                            <li class="nav-item active mx-2">
                            <a class="nav-link" href="https://demo.shop.wayforpay.com/" data-link="home">Магазин<span class="item-arrow">→</span></a>
                        </li>
                                            <li class="nav-item  mx-2">
                            <a class="nav-link" href="" data-link="delivery">Доставка<span class="item-arrow">→</span></a>
                        </li>
                                            <li class="nav-item  mx-2">
                            <a class="nav-link" href="" data-link="payment"> Оплата и возврат<span class="item-arrow">→</span></a>
                        </li>
                                            <li class="nav-item  mx-2">
                            <a class="nav-link" href="" data-link="about">О нас<span class="item-arrow">→</span></a>
                        </li>
                                    </ul>

                <div class="language-links">
                                            <a class="" href="https://demo.shop.wayforpay.com/uk">UA</a>
                                            <a class="d-none" href="https://demo.shop.wayforpay.com/">RU</a>
                                            <a class="" href="https://demo.shop.wayforpay.com/en">EN</a>
                                    </div>

                <div class="navbar-footer">
                    <div class="footer">
                        <div class="footer-info">
                            Киев<br>ул. Васильевская, 254 Е<br><a href="tel:+380 44 379 48 49">+380 44 379 48 49</a><a href="tel:+380 97 007 58 20">+380 97 007 58 20</a><a href="mailto:sales@wayforpay.com">sales@wayforpay.com</a>                        </div>
                                                                            <div class="footer-sl-title"><b>Мы в соцсетях</b></div>
                            <div class="footer-sl-links">
                                                                    <a href="https://www.instagram.com/wayforpay" class="sl-img-link sl-instagram" target="_blank" rel="noreferrer">&nbsp;</a>
                                                                                                    <a href="https://www.facebook.com/wayforpay" class="sl-img-link sl-facebook" target="_blank" rel="noreferrer">&nbsp;</a>
                                                                                                    <a href="https://t.me/wayforpay" class="sl-img-link sl-telegram" target="_blank" rel="noreferrer">&nbsp;</a>
                                                                                                    <a href="viber://chat?number=wayforpay" class="sl-img-link sl-viber" target="_blank" rel="noreferrer">&nbsp;</a>
                                                            </div>
                                            </div>
                </div>
            </div>
            </div>
</header>

<script>
    window.addEventListener('load', function() {
        $('body').on('DOMSubtreeModified', '.basket-count', function(){
            if(+$(this).text() === 0) {
                $(this).addClass('d-none');
            } else {
                $(this).removeClass('d-none');
            }
        });

        // $('header .navbar-toggler').on('click', function () {
        //     if($(this).hasClass('collapsed')) {
        //         let navBar = $('header .navbar-collapse.mobile');
        //         let headerHeight = $('.navbar .navbar-head').outerHeight();
        //         let winHeight = $(window).height();
        //         navBar.css({height: (winHeight - headerHeight) + 'px'});
        //         setTimeout(function () {
        //             let navbarHeight = $('.navbar .mobile .navbar-nav').outerHeight();
        //             let navbarFooter = $('.navbar .mobile .navbar-footer');
        //             let navbarLangs = $('.navbar .mobile .language-links').outerHeight();
        //             navbarFooter.css({minHeight: (winHeight - headerHeight - navbarHeight - navbarLangs) + 'px'});
        //             navBar.scrollTop(0);
        //         }, 200);
        //         window.goBackFunction = function() {
        //             $('header .navbar-toggler').trigger('click');
        //         }
        //     }
        // });

        $('.badge-test[data-toggle="tooltip"]').tooltip({html: true});
    });
</script>
<h1 class="d-hidden"></h1>
<main role="main" style="padding-bottom: 236px;">
    <div class="container">
                        
<style>
    #sortCardsDesk .form-inline {
        width: 100%;
    }
    #sortCardsDesk .form-inline .form-group {
        width: calc(100% - 50px);
        max-width: 260px;
        height: 38px;
        padding: 0 10px;
        border: none;
        float: right;
    }
    #sortCardsDesk .form-inline .form-group.sort-collapsed:not(.show) {
        width: calc(100% - 50px);
        color: #212529;
    }

    #sortCardsDesk .form-inline .search-collapsed {
        margin-left: auto;
    }

    #sortCardsDesk .form-inline .form-group.fade-input {
        transition: width 400ms;
        width:58px;
    }
    #sortCardsDesk .form-inline .form-group.fade-input input {
        max-width: 0;
        padding: 0;
        display: none;
    }
    #sortCardsDesk .form-inline .form-group.fade-input .input-group-append {
        opacity: 0;
    }
    #sortCardsDesk .form-inline .form-group.fade-input.show {
        width: calc(100% - 50px);
    }
    #sortCardsDesk .form-inline .form-group.fade-input.show input {
        max-width: calc(100% - 33px);
        padding: 5px;
        display: block;
    }
    #sortCardsDesk .form-inline .form-group.fade-input.show .input-group-append {
        opacity: 1;
        transition: opacity 1s;
    }
    #dropdownSort {
        margin-left: -5px;
    }

    /*#sortCardsDesk .form-inline .form-group.search-collapsed:hover .input-group input,*/
    /*#sortCardsDesk .form-inline .form-group.search-collapsed .input-group input:focus {*/
    /*    width: 1%;*/
    /*    padding: 16px;*/
    /*}*/

    #sortCardsDesk .form-inline .input-group {
        border: none;
        border-radius: 19px !important;
        box-shadow: 1px 1px 10px rgba(128, 128, 128, 0.3);
        cursor: pointer;
        font-size: 14px;
        width: 100%;
        height: 100%;
    }
    #sortCardsDesk .form-inline .input-group .input-group-prepend,
    #sortCardsDesk .form-inline .input-group .input-group-append {
        height: 38px;
    }
    #sortCardsDesk .dropdown {
        width: 100%;
    }
    #sortCardsDesk .dropdown .btn {
        padding: 10px 15px 10px 30px;
        text-align: center;
        border: none;
        border-radius: 19px !important;
        box-shadow: 1px 1px 10px rgba(128, 128, 128, 0.3);
        cursor: pointer;
        font-size: 14px;
    }
    #sortCardsDesk .dropdown.show .btn {
        border-bottom-left-radius: 0 !important;
        border-bottom-right-radius: 0 !important;
    }
    #sortCardsDesk .dropdown.show .dropdown-menu {
        padding: 0;
        border: none;
        border-bottom-left-radius: 16px;
        border-bottom-right-radius: 16px;
        font-size: 14px;
    }
    #sortCardsDesk .dropdown.show .dropdown-menu .dropdown-item {
        text-align: center;
        cursor: pointer;
    }
    #sortCardsDesk .dropdown.show .dropdown-menu .dropdown-item:last-child {
        border-bottom-left-radius: 16px;
        border-bottom-right-radius: 16px;
    }
    #sortCardsDesk .dropdown-toggle::after {
        display: none;
    }
    #sortCardsDesk .dropdown-toggle::before {
        background-image: url(/img/icons/filter.svg);
        content: "";
        width: 21px;
        height: 21px;
        background-position: center;
        background-repeat: no-repeat;
        position: absolute;
        left: 8px;
        top: 30%;
    }

    #sortCardsDesk .form-inline .input-group:hover {
        box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.16);
    }
    #sortCardsDesk .form-inline .input-group .form-control {
        height: 36px;
        border-radius: 19px !important;
    }
    #sortCardsDesk .form-inline .input-group .input-group-text{
        border: none;
        color: #0062ff;
        background-color: white;
        border-radius: 19px;
        padding: 10px;
    }
    #searchBtn {
        font-size: 14px;
    }

    @media (max-width: 540px) {
        #sortCardsDesk .dropdown .dropdown-item {
            padding: 5px;
        }
        #sortCardsDesk .form-inline .form-group.sort-collapsed:not(.show) {
            width:48px;
        }
        #sortCardsDesk .form-inline .form-group.sort-collapsed:not(.show) .dropdown-toggle {
            color: #ffffff;
            padding-left: 18px;
            position: relative;
            width: 38px;
        }
    }
</style>

<div>
                        <div id="carouselControls" class="carousel slide" data-ride="carousel">
                                    <ol class="carousel-indicators">
                                                    <li data-target="#carouselControls" data-slide-to="0" class=""></li>
                                                    <li data-target="#carouselControls" data-slide-to="1" class=""></li>
                                                    <li data-target="#carouselControls" data-slide-to="2" class="active"></li>
                                            </ol>
                                <div class="carousel-inner">
                                                                <div class="carousel-item">
                            <img src="demo.shop.wayforpay.com_files/8465cdbcf09279e7bc95796c4c257006-f5fa.png" class="d-block w-100" alt="0" loading="lazy">
                        </div>
                                                                    <div class="carousel-item">
                            <img src="demo.shop.wayforpay.com_files/796aab5a229bddde02b105c4c0a2b666-1e8c.png" class="d-block w-100" alt="1" loading="lazy">
                        </div>
                                                                    <div class="carousel-item active">
                            <img src="demo.shop.wayforpay.com_files/97ac7f14b78630b68d818398313a8d3b-da78.png" class="d-block w-100" alt="2" loading="lazy">
                        </div>
                                                            </div>
            </div>
            
    <div class="categories">
        <botton class="btn btn-category active" data-category="0">Все категории</botton>
                                                    <botton class="btn btn-category " data-category="257">Десерты</botton>
                                            <botton class="btn btn-category " data-category="258">Напитки</botton>
            
            <select class="form-control" id="categoriesSelect">
                <option value="0" selected="selected">Все категории</option>
                                                        <option value="257">Десерты</option>
                                                        <option value="258">Напитки</option>
                            </select>
            </div>

    <div class="row row-cols-1 row-cols-sm-1 row-cols-md-1 row-cols-lg-2 row-cols-xl-2" id="sortCardsDesk">
        <div class="col d-none d-lg-block">&nbsp;</div>
        <div class="col px-0">
            <form class="form-inline">

                                <div class="form-group search-collapsed fade-input">
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text"><i class="fa fa-search" style="font-size: 17px"></i></span>
                        </div>
                        <input type="text" class="form-control" placeholder="Поиск" aria-label="Search">
                        <div class="input-group-append">
                            <span class="input-group-text d-none" id="searchBtn">Поиск</span>
                            <span class="input-group-text d-none" id="clearSearchBtn"><i class="fa fa-remove"></i></span>
                        </div>
                    </div>
                </div>

                                <div class="form-group sort-collapsed fade-input show">
                    <div class="dropdown">
                        <button class="btn dropdown-toggle" type="button" id="dropdownSort" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" data-sort="">
                            без сортировки                        </button>
                        <div class="dropdown-menu" aria-labelledby="dropdownSort">
                            <span class="dropdown-item" data-value="">без сортировки</span>
                            <span class="dropdown-item" data-value="price-asc">по возрастанию цены</span>
                            <span class="dropdown-item" data-value="price-desc">по убыванию цены</span>
                            <!--<span class="dropdown-item" data-value="date-desc">по новизне</a>-->
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>

            <div class="row row-cols-2 row-cols-sm-3 row-cols-md-3 row-cols-lg-4 row-cols-xl-4" id="cardsDesk">
                    <div class="col mb-4" data-category="257">
                <div class="card w-100 m-0 toBasket" data-id="6" data-name="Чизкейк с клубникой" data-price="120.00" data-quantity="1">
                    <div class="card-img-top">
                        <img src="demo.shop.wayforpay.com_files/f085bcd8befaaaaa37481185de753a78-86cd.png" alt="Чизкейк с клубникой" loading="lazy">
                    </div>
                    <div class="card-body">
                        <div class="card-desc">
                            <div class="title">Чизкейк с клубникой</div>
                            <div class="price">120.00 UAH</div>
                        </div>
                        <div class="card-basket">
                            <img src="demo.shop.wayforpay.com_files/combined-shape.svg" alt="buy">
                        </div>
                    </div>
                </div>
            </div>            <div class="col mb-4" data-category="257">
                <div class="card w-100 m-0 toBasket" data-id="7" data-name="Бельгийская вафля" data-price="55.00" data-quantity="1">
                    <div class="card-img-top">
                        <img src="demo.shop.wayforpay.com_files/3d4eabeb3b0e4480713dd217c53bc2c3-bd4b.png" alt="Бельгийская вафля" loading="lazy">
                    </div>
                    <div class="card-body">
                        <div class="card-desc">
                            <div class="title">Бельгийская вафля</div>
                            <div class="price">55.00 UAH</div>
                        </div>
                        <div class="card-basket">
                            <img src="demo.shop.wayforpay.com_files/combined-shape.svg" alt="buy">
                        </div>
                    </div>
                </div>
            </div>            <div class="col mb-4" data-category="257">
                <div class="card w-100 m-0 toBasket" data-id="9" data-name="Киевский медовик" data-price="89.00" data-quantity="1">
                    <div class="card-img-top">
                        <img src="demo.shop.wayforpay.com_files/d2a8eceb96c417e4d5d6a59be9f7b0bb-65e9.png" alt="Киевский медовик" loading="lazy">
                    </div>
                    <div class="card-body">
                        <div class="card-desc">
                            <div class="title">Киевский медовик</div>
                            <div class="price">89.00 UAH</div>
                        </div>
                        <div class="card-basket">
                            <img src="demo.shop.wayforpay.com_files/combined-shape.svg" alt="buy">
                        </div>
                    </div>
                </div>
            </div>            <div class="col mb-4" data-category="257">
                <div class="card w-100 m-0 toBasket" data-id="12" data-name="Черничный пирог" data-price="100.00" data-quantity="1">
                    <div class="card-img-top">
                        <img src="demo.shop.wayforpay.com_files/bdb2b48ca8fac8059b452cf4e0f07f88-ccb6.png" alt="Черничный пирог" loading="lazy">
                    </div>
                    <div class="card-body">
                        <div class="card-desc">
                            <div class="title">Черничный пирог</div>
                            <div class="price">100.00 UAH</div>
                        </div>
                        <div class="card-basket">
                            <img src="demo.shop.wayforpay.com_files/combined-shape.svg" alt="buy">
                        </div>
                    </div>
                </div>
            </div>            <div class="col mb-4" data-category="257">
                <div class="card w-100 m-0 toBasket" data-id="13" data-name="Шоколадный брауни" data-price="70.00" data-quantity="1">
                    <div class="card-img-top">
                        <img src="demo.shop.wayforpay.com_files/103198005b651b4c27832553dcb1aa06-27d5.png" alt="Шоколадный брауни" loading="lazy">
                    </div>
                    <div class="card-body">
                        <div class="card-desc">
                            <div class="title">Шоколадный брауни</div>
                            <div class="price">70.00 UAH</div>
                        </div>
                        <div class="card-basket">
                            <img src="demo.shop.wayforpay.com_files/combined-shape.svg" alt="buy">
                        </div>
                    </div>
                </div>
            </div>            <div class="col mb-4" data-category="258">
                <div class="card w-100 m-0 toBasket" data-id="14" data-name="Чай Зеленый" data-price="20.00" data-quantity="1">
                    <div class="card-img-top">
                        <img src="demo.shop.wayforpay.com_files/1739706885f6d7d5e29096b55bfbe2e1-a58d.png" alt="Чай Зеленый" loading="lazy">
                    </div>
                    <div class="card-body">
                        <div class="card-desc">
                            <div class="title">Чай Зеленый</div>
                            <div class="price">20.00 UAH</div>
                        </div>
                        <div class="card-basket">
                            <img src="demo.shop.wayforpay.com_files/combined-shape.svg" alt="buy">
                        </div>
                    </div>
                </div>
            </div>            <div class="col mb-4" data-category="258">
                <div class="card w-100 m-0 toBasket" data-id="15" data-name="Лавандовый латте" data-price="45.00" data-quantity="1">
                    <div class="card-img-top">
                        <img src="demo.shop.wayforpay.com_files/782af762ef7a0b1fa00acd3babdfd371-8ee1.png" alt="Лавандовый латте" loading="lazy">
                    </div>
                    <div class="card-body">
                        <div class="card-desc">
                            <div class="title">Лавандовый латте</div>
                            <div class="price">45.00 UAH</div>
                        </div>
                        <div class="card-basket">
                            <img src="demo.shop.wayforpay.com_files/combined-shape.svg" alt="buy">
                        </div>
                    </div>
                </div>
            </div>            <div class="col mb-4" data-category="257">
                <div class="card w-100 m-0 toBasket" data-id="17" data-name="ПП десерт" data-price="150.00" data-quantity="1">
                    <div class="card-img-top">
                        <img src="demo.shop.wayforpay.com_files/c410a10136ec3a3d5ecbe50fdd695847-8167.png" alt="ПП десерт" loading="lazy">
                    </div>
                    <div class="card-body">
                        <div class="card-desc">
                            <div class="title">ПП десерт</div>
                            <div class="price">150.00 UAH</div>
                        </div>
                        <div class="card-basket">
                            <img src="demo.shop.wayforpay.com_files/combined-shape.svg" alt="buy">
                        </div>
                    </div>
                </div>
            </div>            <div class="col mb-4" data-category="258">
                <div class="card w-100 m-0 toBasket" data-id="18" data-name="Чай ромашковый" data-price="10.00" data-quantity="1">
                    <div class="card-img-top">
                        <img src="demo.shop.wayforpay.com_files/4a3a0644610b1e2364fe1437e3c8f804-9b41.png" alt="Чай ромашковый" loading="lazy">
                    </div>
                    <div class="card-body">
                        <div class="card-desc">
                            <div class="title">Чай ромашковый</div>
                            <div class="price">10.00 UAH</div>
                        </div>
                        <div class="card-basket">
                            <img src="demo.shop.wayforpay.com_files/combined-shape.svg" alt="buy">
                        </div>
                    </div>
                </div>
            </div>            <div class="col mb-4" data-category="258">
                <div class="card w-100 m-0 toBasket" data-id="43" data-name="Молоко соевое" data-price="5.00" data-quantity="1">
                    <div class="card-img-top">
                        <img src="demo.shop.wayforpay.com_files/83219c05c5c7d45be9cb629d1b725c3a-4c3f.png" alt="Молоко соевое" loading="lazy">
                    </div>
                    <div class="card-body">
                        <div class="card-desc">
                            <div class="title">Молоко соевое</div>
                            <div class="price">5.00 UAH</div>
                        </div>
                        <div class="card-basket">
                            <img src="demo.shop.wayforpay.com_files/combined-shape.svg" alt="buy">
                        </div>
                    </div>
                </div>
            </div>            <div class="col mb-4" data-category="257">
                <div class="card w-100 m-0 toBasket" data-id="55" data-name="Цитрус торт" data-price="50.00" data-quantity="1">
                    <div class="card-img-top">
                        <img src="demo.shop.wayforpay.com_files/cd921b371200bb3c00f2623c2b2fcefa-c7e0.png" alt="Цитрус торт" loading="lazy">
                    </div>
                    <div class="card-body">
                        <div class="card-desc">
                            <div class="title">Цитрус торт</div>
                            <div class="price">50.00 UAH</div>
                        </div>
                        <div class="card-basket">
                            <img src="demo.shop.wayforpay.com_files/combined-shape.svg" alt="buy">
                        </div>
                    </div>
                </div>
            </div>            <div class="col mb-4" data-category="257">
                <div class="card w-100 m-0 toBasket" data-id="58" data-name="Клюквенный пирог" data-price="40.00" data-quantity="1">
                    <div class="card-img-top">
                        <img src="demo.shop.wayforpay.com_files/f0788cc9005e4d315b7bccffed26b060-c3f5.png" alt="Клюквенный пирог" loading="lazy">
                    </div>
                    <div class="card-body">
                        <div class="card-desc">
                            <div class="title">Клюквенный пирог</div>
                            <div class="price">40.00 UAH</div>
                        </div>
                        <div class="card-basket">
                            <img src="demo.shop.wayforpay.com_files/combined-shape.svg" alt="buy">
                        </div>
                    </div>
                </div>
            </div>        </div>

        <div class="nextPage row row-cols-md-2" data-next-page="2" data-has-next="" style="opacity: 0; height: 0">
            <div class="col-md-6">
                <button class="btn btn-primary float-md-right" id="btnNextCount">Еще <span class="cntNumber">0</span> товаров</button>
            </div>
            <div class="col-md-6">
                <button class="btn btn-primary float-md-left" id="btnNextAll">Все товары</button>
            </div>
        </div>

    

</div>


<script>
    window.addEventListener('load', function() {
        
            var nextPageBlock = $('.nextPage');
            nextPageBlock.data('autoload', false);


            function isOnScreen(element) {
                let elementOffsetTop = element.offset().top;
                let elementHeight = element.height();
                let screenScrollTop = $(window).scrollTop();
                let screenHeight = $(window).height();
                let scrollIsAboveElement = elementOffsetTop + elementHeight - screenScrollTop >= 0;
                let elementIsVisibleOnScreen = screenScrollTop + screenHeight - elementOffsetTop >= 0;
                return scrollIsAboveElement && elementIsVisibleOnScreen;
            }

            let tmpProdCard = `            <div class="col mb-4" data-category="{categoryId}">
                <div class="card w-100 m-0 toBasket"
                     data-id="{prodId}"
                     data-name="{prodName}"
                     data-price="{prodPrice}"
                     data-quantity="1"
                 >
                    <div class="card-img-top">
                        <img src="{prodImage}" alt="{prodName}" loading="lazy">
                    </div>
                    <div class="card-body">
                        <div class="card-desc">
                            <div class="title">{prodName}</div>
                            <div class="price">{prodPriceNormalize}</div>
                        </div>
                        <div class="card-basket">
                            <img src="/img/combined-shape.svg" alt="buy">
                        </div>
                    </div>
                </div>
            </div>`;

            $('.btn-category').on('click', function (e) {
                $('.btn-category').removeClass('active');
                let categoryId = $(e.currentTarget).data('category');
                $(e.currentTarget).addClass('active');
                $('#categoriesSelect').val(categoryId).change();
            });

            $('#categoriesSelect').on('change', function (e) {
                nextPageBlock.css({opacity: 0}).data('autoload', false);
                let categoryId = $(e.currentTarget).val();
                loadProds(categoryId, 1, true);
                $('.btn-category').removeClass('active');
                $('.btn-category[data-category="' + categoryId + '"]').addClass('active');
            });

            $('#btnNextCount').on('click', function () {
                let page = nextPageBlock.data('next-page');
                let categoryId = $('.btn-category.active').data('category');
                loadProds(categoryId, page, false);
            });

            $('#btnNextAll').on('click', function () {
                nextPageBlock.data('loading', true);
                nextPageBlock.data('autoload', true);
                nextPageBlock.css({opacity: 0});
                $('#btnNextCount').trigger('click');
                $(window).scroll(function (e) {
                    if(!nextPageBlock.data('hasNext') || !nextPageBlock.data('autoload')) {
                        return;
                    }
                    if (isOnScreen($('footer')) && !nextPageBlock.data('loading')) {
                        nextPageBlock.data('loading', true);
                        $('#btnNextCount').trigger('click');
                    }
                });
            });

            let loadProds = function (categoryId, page, removePrevius) {
                let cardsDesk = $('#cardsDesk');
                let cards = cardsDesk.find('.col');
                let sort = $('#dropdownSort').data('sort') || '';
                let search = $('#sortCardsDesk .search-collapsed input').val().trim();
                let loader = $('<div class="cart-loader" style="position: relative; margin-top: -10px; opacity: 0;"><div class="dot-floating"></div></div>');
                if(removePrevius) {
                    nextPageBlock.animate({opacity: 0}, 50, function () {
                        loader.css({opacity: 1})
                    });
                } else {
                    loader.css({opacity: 1})
                }
                cardsDesk.after(loader);

                let queryString = document.location.search;
                let urlParams = new URLSearchParams(queryString);
                if(+categoryId === 0) {
                    urlParams.delete('category');
                } else {
                    urlParams.set('category', categoryId);
                }
                if(sort.length) {
                    urlParams.set('sort', sort);
                } else {
                    urlParams.delete('sort');
                }
                if(search.length) {
                    urlParams.set('search', search);
                } else {
                    urlParams.delete('search');
                }

                history.replaceState({}, null, document.location.origin + document.location.pathname + '?' + urlParams.toString());


                nextPageBlock.data('hasNext', false);
                $('body').css({overflowY: 'hidden'});
                if(removePrevius) {
                    cardsDesk.fadeOut(100, function () {
                        cards.remove();
                    });
                }
                $.ajax({
                    url: '/shop/default/load-prods?_sad=tvsnrogabmntplodvquc87qn02',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        categoryId: categoryId || 0,
                        page: page || 1,
                        sort: sort,
                        search: search
                    },
                })
                    .done(function (data) {
                        let scrollTop = $(window).scrollTop();
                        if (data !== undefined && data.status) {
                            if(data.items.length === 0) {
                                cardsDesk.append('<div class="col col-12 col-xl-12 mb-4">По вашему запросу ничего не найдено</h2>');
                            }
                            for (const i in data.items) {
                                let tmpl = tmpProdCard;
                                let prodPriceNormalize = Number(data.items[i].mainPrice).toFixed(2) + ' ' + data.items[i].mainCurrency;
                                tmpl = tmpl.replace(new RegExp('{categoryId}', 'g'), data.items[i].categoryId);
                                tmpl = tmpl.replace(new RegExp('{prodId}', 'g'), data.items[i].id);
                                tmpl = tmpl.replace(new RegExp('{prodName}', 'g'), $('<p>' + data.items[i].name + '</p>').text());
                                tmpl = tmpl.replace(new RegExp('{prodPrice}', 'g'), data.items[i].mainPrice);
                                tmpl = tmpl.replace(new RegExp('{prodImage}', 'g'), data.items[i].image || '/img/noproducts.svg');
                                tmpl = tmpl.replace(new RegExp('{prodPriceNormalize}', 'g'), prodPriceNormalize);
                                tmpl = $(tmpl).addClass('new').css({dispaly: 'none'});
                                cardsDesk.append(tmpl);
                            }
                            if(removePrevius) {
                                cardsDesk.fadeIn(500, function () {
                                    $('body').css({overflowY: ''});
                                });
                            }
                            cardsDesk.find('.col.new').fadeIn(500, function () {
                                $(this).removeClass('new');
                                $('body').css({overflowY: ''});
                            });
                            $(window).scrollTop(scrollTop);
                            if(data.nextCnt) {
                                if(nextPageBlock.data('autoload') === false) {
                                    nextPageBlock.animate({opacity: 1}, 500, function () {
                                        $(this).css('height', 'initial');
                                    });
                                }
                                nextPageBlock.data('next-page', +data.page + 1).find('.cntNumber').text(data.nextCnt);
                                nextPageBlock.data('hasNext', true);
                            } else {
                                nextPageBlock.css({opacity: 0, height: 0});
                                nextPageBlock.data('hasNext', false);
                                nextPageBlock.data('autoload', false);
                            }
                        }
                        nextPageBlock.data('loading', false);
                        cardsDesk.siblings('.cart-loader').remove();
                    })
                    .fail(function () {
                        cardsDesk.fadeIn(500, function () {
                            $('body').css({overflowY: ''});
                        });
                        nextPageBlock.data('loading', false);
                        cardsDesk.siblings('.cart-loader').remove();
                    });
            }

            $("#sortCardsDesk .dropdown").on("click", ".dropdown-toggle", function(e) {
                e.preventDefault();
                $(this).parent().addClass("show");
                $(this).attr("aria-expanded", "true");
                $(this).next().addClass("show");
            }).on('show.bs.dropdown', function (e) {
                setTimeout(function () {
                    $('#sortCardsDesk .sort-collapsed').addClass('show');
                }, 50);
                let searchCollapsed = $('#sortCardsDesk .search-collapsed');
                if (searchCollapsed.find('input').val().length === 0 || $(window).width() < 540) {
                    searchCollapsed.removeClass('show');
                }
            });

            $('#sortCardsDesk').on('click', '.dropdown .dropdown-item', function (e) {
                e.preventDefault();
                let value = $(this).data('value');
                let text = $(this).text();
                $('#dropdownSort').text(text).data('sort', value);
                let categoryId = $('.btn-category.active').data('category');

                loadProds(categoryId, 1, true);
            });

            $(document).on('click', function (e) {
                let searchCollapsed = $(e.target).closest('.search-collapsed');
                let sortDropdown = $('#sortCardsDesk .sort-collapsed');
                if(searchCollapsed.length) {
                    setTimeout(function () {
                        searchCollapsed.addClass('show').find('input').focus();
                    }, 50);
                    sortDropdown.removeClass('show');
                } else {
                    let searchCollapsed = $('#sortCardsDesk .search-collapsed');
                    setTimeout(function () {
                        sortDropdown.addClass('show');
                    }, 50);
                    if (searchCollapsed.find('input').val().length === 0 || $(window).width() < 540) {
                        searchCollapsed.removeClass('show');
                    }
                }
            });

            $('#sortCardsDesk .search-collapsed input').on('input', function (e) {
                $('#clearSearchBtn').addClass('d-none');
                let str = $(this).val().trim();
                let queryString = document.location.search;
                let urlParams = new URLSearchParams(queryString);
                urlParams.delete('search');
                history.replaceState({}, null, document.location.origin + document.location.pathname + '?' + urlParams.toString());
                if(str.length > 2) {
                    $('#searchBtn').removeClass('d-none');
                } else {
                    $('#searchBtn').addClass('d-none');
                }
            })
            .on('keypress', function (e) {
                let keycode = (e.keyCode ? e.keyCode : e.which);
                if(+keycode === 13){
                    e.preventDefault();
                    let str = $(this).val().trim();
                    if(str.length > 2 || str.length === 0) {
                        $('#searchBtn').addClass('d-none');
                        if(str.length > 2) {
                            $('#clearSearchBtn').removeClass('d-none');
                        } else {
                            $('#clearSearchBtn').addClass('d-none');
                        }
                        $(this).val(str);
                        let categoryId = $('.btn-category.active').data('category');
                        loadProds(categoryId, 1, true);
                    }
                }
            });

            $('#searchBtn').on('click', function() {
                $(this).addClass('d-none');
                $('#clearSearchBtn').removeClass('d-none');
                let input = $(this).closest('.input-group').find('input');
                let str = input.val().trim();
                input.val(str);
                if(str.length > 2) {
                    let categoryId = $('.btn-category.active').data('category');
                    loadProds(categoryId, 1, true);
                }
            });

            $('#clearSearchBtn').on('click', function() {
                $(this).addClass('d-none');
                $('#clearSearchBtn').addClass('d-none');
                let input = $(this).closest('.input-group').find('input');
                input.val('');
                let categoryId = $('.btn-category.active').data('category');
                loadProds(categoryId, 1, true, '');
            });


            });
</script>
    </div>
</main>


    <style>
        #footer-map {
            height: 230px;
            position: relative;
            overflow: hidden;
            margin-top: 10px;
        }
        #footer-address {
            position: relative;
            padding-left: 15px;
            overflow-x: hidden;
            text-overflow: ellipsis;
            display: inline-block;
            max-width: 100%;
        }
        #footer-address:hover {
            cursor: pointer;
            text-decoration: underline;
        }
        #footer-address .fa-map-marker {
            position: absolute;
            top: 3px;
            left: 0;
            color: #0062FB;
        }
        .footer .map-wrapper {
            position: relative;
            display: none;
        }
        .footer .map-wrapper .map-close {
            position: absolute;
            top: -25px;
            left: auto;
            right: 0;
            bottom: auto;
        }
        @media only screen and (max-width: 767px) {
            #footer-address {
                padding-left: 0;
            }
            #footer-address .fa-map-marker {
                position: relative;
                margin-right: 5px;
                top: 0;
            }
            .footer .map-wrapper {
                margin-top: 30px;
            }
        }
    </style>
<footer class="footer" style="margin-top: -236px;">
    <div class="container">
        <div class="row">

            <div class="col-md-4 footer-col">
                <div class="footer-brand ">
                    <a class="navbar-brand" href="https://demo.shop.wayforpay.com/">
                                                    <img src="demo.shop.wayforpay.com_files/fa39e2fc202148b8390433a9a90ae2c9.gz" alt="logo">
                                            </a>
                </div>

                                                    <div class="footer-info">
                        Киев<br>ул. Васильевская, 254 Е<br><a href="tel:+380 44 379 48 49">+380 44 379 48 49</a><a href="tel:+380 97 007 58 20">+380 97 007 58 20</a><a href="mailto:sales@wayforpay.com">sales@wayforpay.com</a>                    </div>
                            </div>

            <div class="col-md-5 footer-col">
                                                                                <div class="footer-sl-title"><b>Мы в соцсетях</b></div>
                        <div class="footer-sl-links inline">
                                                            <a href="https://www.instagram.com/wayforpay" class="sl-img-link sl-instagram" target="_blank" rel="noreferrer">&nbsp;</a>
                                                                                        <a href="https://www.facebook.com/wayforpay" class="sl-img-link sl-facebook" target="_blank" rel="noreferrer">&nbsp;</a>
                                                                                        <a href="https://t.me/wayforpay" class="sl-img-link sl-telegram" target="_blank" rel="noreferrer">&nbsp;</a>
                                                                                        <a href="viber://chat?number=wayforpay" class="sl-img-link sl-viber" target="_blank" rel="noreferrer">&nbsp;</a>
                                                    </div>
                                                </div>

            <div class="col-md-3 footer-col">
                <a href="https://shop.wayforpay.com/ru" target="_blank" rel="noreferrer">
                    <img src="demo.shop.wayforpay.com_files/w4p.png" alt="WayForPay" width="160" height="32">
                </a>
                <p class="copyright">Создано с помощью <a href="https://shop.wayforpay.com/ru" rel="noreferrer" target="_blank">WayForPay</a></p>
            </div>

        </div>

            </div>
</footer>

<style>
    #goToTop {
        display: none;
        position: fixed;
        right: 130px;
        bottom: 55px;
        width: 53px;
        height: 53px;
        border-radius: 50%;
        background-color: #0062ff;
        color: #ffffff;
        font-size: 30px;
        text-align: center;
        box-shadow: 0px 4px 16px 0px rgba(0,98,254,.66);
        cursor: pointer;
        z-index: 1100;
    }

    @media (max-height: 649.9px) {
        #goToTop {
            right: 55px;
        }
    }
    @media (max-width: 991.9px) {
        #goToTop {
            right: 55px;
        }
    }
    @media only screen and (max-width: 767px) {
        #goToTop {
            right: 20px;
            bottom: 30px;
        }
    }


</style>

<div id="goToTop" onclick="topFunction(1000)" style="display: none;"><i class="fa fa-chevron-up"></i></div>

<script>
    //Get the button:
    mybutton = document.getElementById("goToTop");

    // When the user scrolls down 20px from the top of the document, show the button
    window.onscroll = function() {scrollFunction()};

    function scrollFunction() {
        if (document.body.scrollTop > 1400 || document.documentElement.scrollTop > 1400) {
            mybutton.style.display = "block";
        } else {
            mybutton.style.display = "none";
        }
    }

    // When the user clicks on the button, scroll to the top of the document
    function topFunction(duration) {

        // cancel if already on top
        if (document.scrollingElement.scrollTop === 0) return;

        const cosParameter = document.scrollingElement.scrollTop / 2;
        let scrollCount = 0, oldTimestamp = null;

        function step (newTimestamp) {
            if (oldTimestamp !== null) {
                // if duration is 0 scrollCount will be Infinity
                scrollCount += Math.PI * (newTimestamp - oldTimestamp) / duration;
                if (scrollCount >= Math.PI) return document.scrollingElement.scrollTop = 0;
                document.scrollingElement.scrollTop = cosParameter + cosParameter * Math.cos(scrollCount);
            }
            oldTimestamp = newTimestamp;
            window.requestAnimationFrame(step);
        }
        window.requestAnimationFrame(step);

    }
</script>


<style>
    #feedbackWidget {
        position: fixed;
        bottom: 30px;
        right: 30px;
        z-index: 1050;
        display: none;
    }
    @media (max-height: 649.9px) {
        #feedbackWidget {
            display: none !important;
        }
    }
    @media (max-width: 991.9px) {
        #feedbackWidget {
            display: none !important;
        }
    }
    #feedbackWidget .btn-feedback {
        background-image: url("/img/feedback/question.svg");
        background-repeat: no-repeat;
        background-position: center;
        width: 100px;
        height: 100px;
        cursor: pointer;
        margin-left: auto;
    }
    #feedbackPanel {
        display: none;
        background-color: #ffffff;
        width: 350px;
        height: 430px;
        box-shadow: 0 2px 16px 0 rgba(6,2,102,.15);
    }
    #feedbackPanel .panel-header {
        font-size: 21px;
        color: #090c67;
        margin-bottom: 15px;
    }
    #feedbackPanel .panel-body {
        height: 100%;
    }
    #feedbackPanel textarea {
        resize: none;
    }
    .g-recaptcha {
        display: none;
    }
    #feedbackPanel .feedbackSended {
        display: none;
        padding-top: 100%;
        transform: translateY(-50%);
    }
    #feedbackPanel.result-ok .feedbackSended {
        display: block;
    }
    #feedbackPanel.result-ok .panel-header,
    #feedbackPanel.result-ok #feedbackForm {
        display: none;
    }
    #feedbackPanel .feedbackSended .title {
        font-size: 26px;
        color: #090c67;
    }
    #feedbackPanel .feedbackSended .sub-title {
        font-size: 14px;
        color: #000000;
    }

</style>

<div id="feedbackWidget" style="display: block;">
    <div class="panel" id="feedbackPanel">
        <div class="panel-header">У вас есть вопросы?</div>
        <div class="panel-body">
            <div class="text-center feedbackSended">
                <div class="title">Спасибо за Ваш вопрос!</div>
                <div class="sub-title">Мы постараемся дать ответ как можно скорее.</div>
            </div>
            <form action="/shop/default/feedback" id="feedbackForm" method="post">
                <input type="hidden" name="_csrf" value="GLw1BPKzK2dO8feYpJ-bklPGu5IdpE1vPtAerXso9u0DtDU4P6l6D6cUmPhyqmmaQfC6BPLsWODOYfCPDfsDCA==">

                <div class="form-group">
                    <label class="control-label" for="fQuestionInput">Вопрос</label>
                    <textarea class="form-control required" id="fQuestionInput" name="question"></textarea>
                    <div class="help-block"></div>
                </div>

                <div class="form-group">
                    <label class="control-label" for="fEmailInput">Email</label>
                    <input type="text" class="form-control required" id="fEmailInput" name="email" placeholder="email@gmail.com">
                    <div class="help-block"></div>
                </div>

                <div class="form-group">
                    <label class="control-label" for="fPhoneInput">Телефон</label>
                    <input type="text" class="form-control required" id="fPhoneInput" name="phone" placeholder="+38">
                    <div class="help-block"></div>
                </div>

                <div class="g-recaptcha g-recaptcha-1" data-badge="inline" data-size="invisible" data-sitekey="6Ld3-ncUAAAAAIE4f_IHdzkoCdbWohnbDubitAMT" data-callback="triggerReCaptcha" style=""><div class="grecaptcha-badge" data-style="inline" style="width: 256px; height: 60px; box-shadow: gray 0px 0px 5px;"><div class="grecaptcha-logo"><iframe src="demo.shop.wayforpay.com_files/anchor.html" role="presentation" name="a-4nqeul4inv8e" scrolling="no" sandbox="allow-forms allow-popups allow-same-origin allow-scripts allow-top-navigation allow-modals allow-popups-to-escape-sandbox allow-storage-access-by-user-activation" width="256" height="60" frameborder="0"></iframe></div><div class="grecaptcha-error"></div><textarea id="g-recaptcha-response" name="g-recaptcha-response" class="g-recaptcha-response" style="width: 250px; height: 40px; border: 1px solid rgb(193, 193, 193); margin: 10px 25px; padding: 0px; resize: none; display: none;"></textarea></div><iframe style="display: none;"></iframe></div>
                <button type="submit" class="btn btn-primary w-100">Отправить</button>
            </form>
        </div>
    </div>
    <div class="btn-feedback"></div>
</div>


<script>
    var triggerReCaptcha = function(token) {
        let feedbackForm = $('#feedbackForm');
        let urlPrefix = "";
        feedbackForm.find('button[type="submit"]').prop('disabled', true);
        $.ajax({
            url: urlPrefix + feedbackForm.attr('action'),
            type: 'post',
            dataType: 'json',
            data: feedbackForm.serializeArray()
        })
            .done(function (data) {
                if (data.error) {
                    if (data.validator) {
                        for (let field in data.validator) {
                            let fieldError = data.validator[field];
                            let el = feedbackForm.find('[name="' + field + '"]');
                            if (el.length) {
                                el.siblings('.help-block').text(fieldError);
                                el.closest('.form-group').addClass('has-error');
                            }
                        }
                        feedbackForm.find('button[type="submit"]').prop('disabled', false);
                    } else {
                        let errorBlock = $('<div class="form-group has-error formError"><div class="help-block">Ошибка отправки сообщения</div></div>');
                        feedbackForm.append(errorBlock);
                        errorBlock.fadeOut(2000, function () {
                            $(this).remove();
                            feedbackForm.find('button[type="submit"]').prop('disabled', false);
                        });

                    }
                } else {
                    let feedbackPanel = $('#feedbackPanel');
                    feedbackPanel.hide();
                    feedbackPanel.addClass('result-ok');
                    feedbackPanel.show(400);
                    feedbackForm.find('input, textarea').val('');
                    feedbackForm.find('button[type="submit"]').prop('disabled', false);
                }
            })
            .always(function () {
                grecaptcha.reset();
            });
    }

    window.addEventListener('load', function() {
        $('#feedbackWidget').show(300);

        $('.btn-feedback').on('click', function() {
            let feedbackPanel = $('#feedbackPanel');
            feedbackPanel.toggleClass('show');
            if(feedbackPanel.hasClass('show')) {
                $(this).css({backgroundImage: 'url("/img/feedback/close.svg")'})
                feedbackPanel.show(400);
            } else {
                $(this).css({backgroundImage: 'url("/img/feedback/question.svg")'})
                feedbackPanel.hide(400, function () {
                    feedbackPanel.removeClass('result-ok');
                });

            }
        });

        $('#feedbackPanel .required').on('focusout', function () {
            if($(this).val().trim().length === 0) {
                let fieldName = $(this).siblings('label').text();
                let errorEmpty = 'Поле ' + fieldName + ' не может быть пустым';
                $(this).siblings('.help-block').text(errorEmpty);
                $(this).closest('.form-group').addClass('has-error');
            }
        }).on('focusin', function () {
            $(this).siblings('.help-block').text('');
            $(this).closest('.form-group').removeClass('has-error');
        });

        $('#feedbackForm').on('submit', function (e) {
            if($(this).find('.form-group.has-error').length === 0) {
                grecaptcha.execute()
                .catch(function (err) {
                    let feedbackForm = $('#feedbackForm');
                    if(grecaptcha.getResponse() === "") {
                        let errorBlock = $('<div class="form-group has-error formError"><div class="help-block">Error reCaptcha</div></div>');
                        feedbackForm.append(errorBlock);
                        errorBlock.fadeOut(2000, function () {
                            $(this).remove();
                            feedbackForm.find('button[type="submit"]').prop('disabled', false);
                        });
                    }
                    e.stopPropagation();
                    e.preventDefault();
                });
            }
            return false;
        });

        $('#fEmailInput').on('change', function() {
            let email = $(this).val().trim();
            let filter = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
            if (!filter.test(email)) {
                $(this).siblings('.help-block').text('Ошибка в Email адресе');
                $(this).closest('.form-group').addClass('has-error');
            }
        });

        $('#fPhoneInput').on('input', function() {
            let phone = $(this).val().replace(/[^\d\+]+/g, '');
            $(this).val(phone);
        });

        // $(document).on('click', function (e) {
        //     let curEl = $(e.target);
        //     let feedbackPanel = $('#feedbackPanel');
        //     if(feedbackPanel.hasClass('show') && curEl.attr('id') !== 'feedbackWidget' && curEl.closest('#feedbackWidget').length === 0) {
        //         feedbackPanel.toggleClass('show');
        //         $('.btn-feedback').css({backgroundImage: 'url("/img/feedback/question.svg")'})
        //         feedbackPanel.hide();
        //     }
        // });

    });
</script>

            
<div id="modalDelivery" class="fade modal" role="dialog" tabindex="-1" aria-hidden="true" aria-labelledby="modalDelivery-label">
<div class="modal-dialog modal-dialog-centered" role="document">
<div class="modal-content">
<div class="modal-header">
<h5 id="modalDelivery-label" class="modal-title"><img src="demo.shop.wayforpay.com_files/shipped.svg" alt="" class="icon"> <span>Доставка</span></h5>
<button type="button" class="close" data-dismiss="modal"></button>
</div>
<div class="modal-body">

<style>
    .deliveryFromAddresses ul {
        list-style: none;
        padding-left: 20px;
    }
    .deliveryFromAddresses > ul {
        padding-left: 0;
    }
    .deliveryFromAddresses > ul > li:nth-child(odd) {
        margin-top: 10px;
    }
</style>

<div class="modal-text"><p><strong>DEMO SHOP</strong></p>

<p>Стоимость доставки: на заказы до 1000 грн расчет стоимости доставки 
на сайте происходит автоматически по тарифам Новой Почты. На заказы от 
1000 грн доставка новой почтой осуществляется бесплатно. Отправка: пн-пт
 в согласованный с вами день. Сроки доставки в ваш город зависят от 
маршрута машин Новой Почты (посмотреть сроки можно на сайте перевозчика)
 Мы не несем ответственность за изменения сроков доставки со стороны 
перевозчика. Поэтому выбирайте желаемую дату получения с запасом хотя-бы
 в один день (особенно если это праздники) Оплата доставки: сумма за 
доставку входит в сумму вашего заказа и оплачивается вместе с ним. 
Получение посылки: для получения вам необходим паспорт (или права) и 
просто забрать посылку. Никаких оплат вы на этом этапе уже не делаете. 
Забирайте ваши посылки в день их прихода на склад новой почты. Если по 
какой либо причине, новая почта вам выставила счет за доставку, 
произошла ошибка с адресом доставки или вы получили поврежденную посылку
 — обязательно сообщите нам на имейл&nbsp;</p>
</div>
    <div class="modal-subheader">Как доставляем?</div>
    <div class="services">
                                    <img src="demo.shop.wayforpay.com_files/nova.png" alt="nova">
                                                <img src="demo.shop.wayforpay.com_files/meest.png" alt="meest">
                                                <img src="demo.shop.wayforpay.com_files/justin.png" alt="justin">
                                                <img src="demo.shop.wayforpay.com_files/ukrpost.png" alt="ukrpost">
                                                <img src="demo.shop.wayforpay.com_files/other.png" alt="other">
                                            </div>
    <div>или самовывоз по адресу:</div>
    <div>
                    <img src="demo.shop.wayforpay.com_files/address.svg" alt="address" class="mr-2">
            <span>Киев, Васильевская, 254 Е. </span>
        
    </div>

</div>

</div>
</div>
</div>
<script>
    window.addEventListener('load', function() {
        $('.nav-link[data-link="delivery"]').click(function (e) {
            $('#modalDelivery').modal('show');
            return false;
        });
    });
</script>
        
<div id="modalPayment" class="fade modal" role="dialog" tabindex="-1" aria-hidden="true" aria-labelledby="modalPayment-label">
<div class="modal-dialog modal-dialog-centered" role="document">
<div class="modal-content">
<div class="modal-header">
<h5 id="modalPayment-label" class="modal-title"><img src="demo.shop.wayforpay.com_files/payment.svg" alt="" class="icon"> <span> Оплата и возврат</span></h5>
<button type="button" class="close" data-dismiss="modal"></button>
</div>
<div class="modal-body">

<div class="modal-text">
    Вы можете оплатить любым удобным для вас способом</div>
<div class="services">
    <div class="row row-cols-2 row-cols-md-4">
                                                    <div class="col payment-method card">
        <img src="demo.shop.wayforpay.com_files/card.png" alt="card">
        <div class="text-center">Оплата картой</div>
    </div>
                                                                    <div class="col payment-method card">
        <img src="demo.shop.wayforpay.com_files/goole_pay.png" alt="googlePay">
        <div class="text-center">Google Pay</div>
    </div>
                                                                    <div class="col payment-method card">
        <img src="demo.shop.wayforpay.com_files/apple_pay.png" alt="applePay">
        <div class="text-center">Apple Pay</div>
    </div>
                                                                    <div class="col payment-method card">
        <img src="demo.shop.wayforpay.com_files/purse.svg" alt="onDelivery">
        <div class="text-center">Оплата при получении</div>
    </div>
                                </div>
</div>

<div class="modal-text">
            <p><strong>DEMO SHOP</strong></p>

<p>Оплата наличными возможна при самовывозе и курьерской доставке по Киеву. Пожалуйста, старайтесь готовить сумму без сдачи.</p>
        <div id="extPaymentInfo" style="margin-top:15px;">
        <p><br>Возвраты осуществляются согласно Закона «<a href="https://zakon.rada.gov.ua/laws/show/1023-12" target="_blank" rel="noreferrer">О защите прав потребителей</a>»</p>
    </div>
</div>


</div>

</div>
</div>
</div>
<script>
    window.addEventListener('load', function() {
        $('.nav-link[data-link="payment"]').click(function (e) {
            $('#modalPayment').modal('show');
            return false;
        });
    });
</script>
        
<div id="modalAbout" class="fade modal" role="dialog" tabindex="-1" aria-hidden="true" aria-labelledby="modalAbout-label">
<div class="modal-dialog modal-dialog-centered" role="document">
<div class="modal-content">
<div class="modal-header">
<h5 id="modalAbout-label" class="modal-title"><img src="demo.shop.wayforpay.com_files/medal.svg" alt="" class="icon"> <span>О нас</span></h5>
<button type="button" class="close" data-dismiss="modal"></button>
</div>
<div class="modal-body">

<div class="row">
    <div class="col-md-12 modal-text">
        <p><strong>DEMO SHOP</strong></p>

<p>Наша компания - это не просто бизнес, это компания с душой.&nbsp;Мы 
все время придумываем что-то новое для вас. Спасибо, что вы с нами</p>
    </div>
</div>


</div>

</div>
</div>
</div>
<script>
    window.addEventListener('load', function() {
        $('.nav-link[data-link="about"]').click(function (e) {
            $('#modalAbout').modal('show');
            return false;
        });
    });
</script>
        
<style>
    .cart .extImages {
        position: absolute;
        top: 300px;
    }
    .cart .extImages img {
        max-width: 100%;
        height: auto;
    }
    .cart .extImages .extImage-item {
        padding: 0 5px;
    }
    .secondText {
        display: none;
    }
    .span-link {
        color: black;
        margin-top: 10px;
        cursor: pointer;
        display: block;
        text-decoration: underline;
    }
    .extDesc {
        margin-top: 10px;
    }
    .descLink,
    .descVideo {
        padding-left: 20px;
        position: relative;
        display: block;
    }
    .descLink {
        float: left;
    }
    .descVideo {
        float: right;
    }
    .descLink::before,
    .descVideo::before {
        content: "";
        height: 16px;
        width: 16px;
        display: block;
        position: absolute;
        left: 0;
        top: 2px;
        background-position: center;
        background-repeat: no-repeat;
        background-size: contain;
    }
    .descLink::before {
        background-image: url(/img/icons/circle.link.svg);
    }
    .descVideo::before {
        background-image: url(/img/icons/circle.video.svg);
    }
    #modalProdToCart .modal-dialog-lg .cart .prod-desc {
        white-space: initial;
        max-height: 295px;
        position: relative;
        overflow: hidden;
    }
    .prod-desc {
        text-indent: 1em;
    }
    .prod-desc p {
        margin-bottom: 5px;
    }
</style>


<div id="modalProdToCart" class="fade modal" role="dialog" tabindex="-1" aria-hidden="true" aria-labelledby="modalProdToCart-label">
<div class="modal-dialog modal-dialog-centered modal-dialog-lg" role="document">
<div class="modal-content">
<div class="pb-1 modal-header">
<h5 id="modalProdToCart-label" class="modal-title"><span class="prod-title"></span></h5>
<button type="button" class="close" data-dismiss="modal"></button>
</div>
<div class="modal-body">

<div class="cart row">
    <div class="col-md-7 px-0 px-md-2">
        <div id="myGallery"></div>
    </div>
    <div class="prod-params col-md-5 px-0 pr-md-2 pl-md-3">
        <span class="prod-desc">&nbsp;</span>
        <a href="" class="readMore span-link" style="text-align: right;">Подробнее</a>

        <div class="extDesc">
            <a href="" class="descLink span-link" target="_blank">Узнать больше</a>
            <a href="" class="descVideo span-link" target="_blank">Посмотреть видео</a>
        </div>
        <form>
            <div class="form-group row">
                <label for="type" class="control-label">Тип</label>
                <select class="form-control" id="volume">
                </select>
            </div>
            <div class="form-group row">
                <label for="amount" class="control-label col-form-label">Кол-во</label>
                <div class="quantity w-100 col col-3"><input type="number" class="form-control w-100" id="amount" min="1" value="1"><div class="quantity-nav"><div class="quantity-button quantity-up"><span class="fa fa-angle-up"></span></div><div class="quantity-button quantity-down" style="color: rgba(0, 0, 0, 0.2);"><span class="fa fa-angle-down"></span></div></div></div>
                <select class="form-control col-md amount-select" onchange="changeAmountSelect(this)">
                                            <option value="1" selected="selected">1</option>
                                            <option value="2">2</option>
                                            <option value="3">3</option>
                                            <option value="4">4</option>
                                            <option value="5">5</option>
                                            <option value="6">6</option>
                                            <option value="7">7</option>
                                            <option value="8">8</option>
                                            <option value="9">9</option>
                                            <option value="10">10</option>
                                            <option value="11">11</option>
                                            <option value="12">12</option>
                                            <option value="13">13</option>
                                            <option value="14">14</option>
                                            <option value="15">15</option>
                                            <option value="16">16</option>
                                            <option value="17">17</option>
                                            <option value="18">18</option>
                                            <option value="19">19</option>
                                            <option value="20">20</option>
                                    </select>
                <label for="sum" class="col-form-label col-2 d-md-none">Итого</label>
                <input type="text" readonly="readonly" class="form-control-plaintext col-10 col-md text-right font-weight-bold" id="sum" value="0.00 UAH" style="font-size: 26px">
            </div>
            <button type="button" class="btn btn-primary w-100 mb-0 mt-auto" id="add-prod-to-cart">Добавить в корзину</button>
        </form>
    </div>
</div>


</div>

</div>
</div>
</div>





<div id="modalCart" class="fade right modal" role="dialog" tabindex="-1" aria-labelledby="modalCart-label" aria-modal="true">
    <div class="modal-dialog cart-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 id="modalCart-label" class="modal-title">
                    <span class="first-modal-title">Корзина</span>
                    <span class="second-modal-title">Список покупок</span>
                </h5>
                <button type="button" class="close" data-dismiss="modal">&nbsp;</button>
            </div>
            <div class="modal-body">

                <div id="cartTable" class="cart"></div>


            </div>
            <div class="modal-footer">
                <div class="total row">
                    <div class="col-6">Итого к оплате</div>
                    <div class="col-6" id="total-sum"></div>
                    <button class="btn btn-primary checkout" id="checkout">Оформить заказ</button>
                </div>
            </div>
        </div>
    </div>

    
<style>
    /* Absolute Center CSS Spinner */
    .loading, .overlay {
        position: fixed;
        z-index: 9999;
        overflow: visible;
        margin: auto;
        top: 0;
        left: 0;
        bottom: 0;
        right: 0;
    }

    .loading {
        height: 2em;
        width: 2em;
    }

    /* Transparent Overlay */
    .overlay:before {
        content: '';
        display: block;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: transparent;
        border-radius:10px;
    }
    .loading:before {
        content: '';
        display: block;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(128, 128, 128, 0.1);
        border-radius:10px;
    }

    /* :not(:required) hides these rules from IE9 and below */
    .loading:not(:required) {
        /* hide "loading..." text */
        font: 0/0 a;
        color: transparent;
        text-shadow: none;
        background-color: transparent;
        border: 0;
    }

    .loading:not(:required):after {
        content: '';
        display: block;
        font-size: 15px;
        width: 1em;
        height: 1em;
        margin-top: -0.5em;
        -webkit-animation: spinner 1500ms infinite linear;
        -moz-animation: spinner 1500ms infinite linear;
        -ms-animation: spinner 1500ms infinite linear;
        -o-animation: spinner 1500ms infinite linear;
        animation: spinner 1500ms infinite linear;
        border-radius: 0.5em;
        -webkit-box-shadow: rgba(0, 0, 0, 0.75) 1.5em 0 0 0, rgba(0, 0, 0, 0.75) 1.1em 1.1em 0 0, rgba(0, 0, 0, 0.75) 0 1.5em 0 0, rgba(0, 0, 0, 0.75) -1.1em 1.1em 0 0, rgba(0, 0, 0, 0.5) -1.5em 0 0 0, rgba(0, 0, 0, 0.5) -1.1em -1.1em 0 0, rgba(0, 0, 0, 0.75) 0 -1.5em 0 0, rgba(0, 0, 0, 0.75) 1.1em -1.1em 0 0;
        box-shadow: rgba(0, 0, 0, 0.75) 1.5em 0 0 0, rgba(0, 0, 0, 0.75) 1.1em 1.1em 0 0, rgba(0, 0, 0, 0.75) 0 1.5em 0 0, rgba(0, 0, 0, 0.75) -1.1em 1.1em 0 0, rgba(0, 0, 0, 0.75) -1.5em 0 0 0, rgba(0, 0, 0, 0.75) -1.1em -1.1em 0 0, rgba(0, 0, 0, 0.75) 0 -1.5em 0 0, rgba(0, 0, 0, 0.75) 1.1em -1.1em 0 0;
    }

    /* Local */
    .loading.local {
        position: relative;
        height: 30px;
    }

    .loading.local:before {
        display: none;
    }

    .loading.local:not(:required):after {
        font-size: 10px;
        width: 0.9em;
        height: 0.9em;
        margin-top: -0.45em;
        border-radius: 0.45em;
    }

    /* Inverse color */
    .loading.inverse:not(:required):after {
        -webkit-box-shadow: #ffffff 1.5em 0 0 0, #ffffff 1.1em 1.1em 0 0, #ffffff 0 1.5em 0 0, #ffffff -1.1em 1.1em 0 0, #ffffff -1.5em 0 0 0, #ffffff -1.1em -1.1em 0 0, #ffffff 0 -1.5em 0 0, #ffffff 1.1em -1.1em 0 0;
        box-shadow:         #ffffff 1.5em 0 0 0, #ffffff 1.1em 1.1em 0 0, #ffffff 0 1.5em 0 0, #ffffff -1.1em 1.1em 0 0, #ffffff -1.5em 0 0 0, #ffffff -1.1em -1.1em 0 0, #ffffff 0 -1.5em 0 0, #ffffff 1.1em -1.1em 0 0;
    }
    .loader-inverse .loading:not(:required):after {
        -webkit-box-shadow: #ffffff 1.5em 0 0 0, #ffffff 1.1em 1.1em 0 0, #ffffff 0 1.5em 0 0, #ffffff -1.1em 1.1em 0 0, #ffffff -1.5em 0 0 0, #ffffff -1.1em -1.1em 0 0, #ffffff 0 -1.5em 0 0, #ffffff 1.1em -1.1em 0 0;
        box-shadow:         #ffffff 1.5em 0 0 0, #ffffff 1.1em 1.1em 0 0, #ffffff 0 1.5em 0 0, #ffffff -1.1em 1.1em 0 0, #ffffff -1.5em 0 0 0, #ffffff -1.1em -1.1em 0 0, #ffffff 0 -1.5em 0 0, #ffffff 1.1em -1.1em 0 0;
    }

    /* Animation */
    @-webkit-keyframes spinner {
        0% {
            -webkit-transform: rotate(0deg);
            -moz-transform: rotate(0deg);
            -ms-transform: rotate(0deg);
            -o-transform: rotate(0deg);
            transform: rotate(0deg);
        }
        100% {
            -webkit-transform: rotate(360deg);
            -moz-transform: rotate(360deg);
            -ms-transform: rotate(360deg);
            -o-transform: rotate(360deg);
            transform: rotate(360deg);
        }
    }
    @-moz-keyframes spinner {
        0% {
            -webkit-transform: rotate(0deg);
            -moz-transform: rotate(0deg);
            -ms-transform: rotate(0deg);
            -o-transform: rotate(0deg);
            transform: rotate(0deg);
        }
        100% {
            -webkit-transform: rotate(360deg);
            -moz-transform: rotate(360deg);
            -ms-transform: rotate(360deg);
            -o-transform: rotate(360deg);
            transform: rotate(360deg);
        }
    }
    @-o-keyframes spinner {
        0% {
            -webkit-transform: rotate(0deg);
            -moz-transform: rotate(0deg);
            -ms-transform: rotate(0deg);
            -o-transform: rotate(0deg);
            transform: rotate(0deg);
        }
        100% {
            -webkit-transform: rotate(360deg);
            -moz-transform: rotate(360deg);
            -ms-transform: rotate(360deg);
            -o-transform: rotate(360deg);
            transform: rotate(360deg);
        }
    }
    @keyframes spinner {
        0% {
            -webkit-transform: rotate(0deg);
            -moz-transform: rotate(0deg);
            -ms-transform: rotate(0deg);
            -o-transform: rotate(0deg);
            transform: rotate(0deg);
        }
        100% {
            -webkit-transform: rotate(360deg);
            -moz-transform: rotate(360deg);
            -ms-transform: rotate(360deg);
            -o-transform: rotate(360deg);
            transform: rotate(360deg);
        }
    }
</style>

<div class="modal-dialog checkout-dialog" role="document" style="display: none;">
    <div class="modal-content">
        <div class="modal-header">
            <h5 id="modalCheckout-label" class="modal-title">
                <span class="second-modal-title">Оформление заказа</span>
                <span id="orderRef"></span>
            </h5>
            <button type="button" class="close" data-dismiss="modal">&nbsp;</button>
        </div>
        <div class="modal-body">

            <form id="formCheckout">
                <input type="hidden" id="checked-cart" value="0">
                <div class="form-block">
                    <div class="form-group row">
                        <label for="inputFio" class="control-label">ФИО</label>
                        <input type="text" class="form-control required" id="inputFio" name="fio" data-error-empty="Укажите ФИО">
                    </div>
                    <div class="form-group row">
                        <label for="inputPhone" class="control-label">Телефон</label>
                        <input type="tel" class="form-control required phone" id="inputPhone" name="phone" data-error-empty="Укажите номер мобильного телефона" data-error-short="Номер менее 10 цифр" data-error-long="Слишком длинный номер">
                    </div>
                </div>

                                    <div class="form-block">
                    <div class="form-title-second">Способы доставки</div>
                    <div class="form-group row">
                                                    <div class="form-check">
                                <input class="form-check-input" type="radio" name="delivery_option" id="radioDelivery" value="delivery" checked="checked">
                                <label class="form-check-label" for="radioDelivery">Доставка</label>
                            </div>
                                                <div class="form-check ">
                            <input class="form-check-input" type="radio" name="delivery_option" id="radioPickup" value="pickup">
                            <label class="form-check-label" for="radioPickup">Самовывоз</label>
                        </div>
                    </div>


                                                                                                        <div class="form-group row servicePickup d-none" id="servicePickup">
                            <label class="col-3 font-weight-bold">по адресу:</label>
                            <input type="hidden" name="deliveryFromAddress" value="Киев, Васильевская, 254 Е. ">
                            <span class="col-9 border-0">Киев, Васильевская, 254 Е. </span>
                        </div>
                    

                    <div class="form-group row forDelivery service ">
                        <label for="selectService" class="control-label">Служба</label>
                        <select class="form-control" id="selectService" name="service" data-error-empty="Выберите службу доставки">
                            <option selected="selected" hidden=""></option>
                                                                        
                                                                <option value="nova">Нова Пошта</option>
                                                                        
                                                                        <option value="meest">Мист Экспресс</option>
                                                                        
                                                                        <option value="justin">Justin</option>
                                                                        
                                                                        <option value="ukrpost">Укрпошта</option>
                                                                        
                                                                        <option value="other">По адресу</option>
                                                                        
                                                                        
                                            </select>
                    </div>
                    <div class="form-group row forDelivery d-none chooseService">
                        <label for="selectArea" class="control-label">Область</label>
                        <select class="form-control" id="selectArea" name="area" data-error-empty="Выберите область"></select>
                    </div>
                    <div class="form-group row forDelivery d-none chooseService chooseArea">
                        <label for="selectCity" class="control-label">Город</label>
                        <select class="form-control" id="selectCity" name="city" data-error-empty="Выберите город"></select>
                    </div>
                    <div class="form-group row forDelivery d-none chooseService chooseArea chooseCity">
                        <label for="selectDep" class="control-label">Отделение</label>
                        <select class="form-control" id="selectDep" name="dep" data-error-empty="Выберите отделение"></select>
                    </div>

                    <div class="form-group row forDelivery d-none chooseService serviceAddress">
                        <label for="selectCity" class="control-label">Город</label>
                        <input type="text" class="form-control" id="inputCity" name="cityAddress" data-error-empty="Введите город">
                    </div>
                    <div class="form-group row forDelivery d-none chooseService serviceAddress">
                        <label for="inputAddress" class="control-label">Адрес</label>
                        <input type="text" class="form-control" id="inputAddress" name="address" data-error-empty="Введите адрес">
                    </div>
                </div>
                
                                    <div class="form-block">
                        <div class="form-title-second">Способы оплаты</div>
                        <div class="form-group row" style="margin:15px 0 0;">
                                                            <div class="form-check">
                                    <input class="form-check-input" type="radio" name="payment_option" id="radioPaymentOnline" value="online" checked="checked">
                                    <label class="form-check-label" for="radioPaymentOnline">Оплата online</label>
                                </div>
                                                        <div class="form-check">
                                <input class="form-check-input" type="radio" name="payment_option" id="radioPaymentOnDelivery" value="onDelivery">
                                <label class="form-check-label" for="radioPaymentOnDelivery">При получении</label>
                            </div>
                        </div>
                    </div>
                            </form>

        </div>
        <div class="modal-footer">
            <div class="total-delivery row d-none">
                <div class="col-6">Доставка</div>
                <div class="col-6" id="delivery-sum">0.00 UAH</div>
            </div>
            <div class="total row">
                <div class="col-6">Итого к оплате</div>
                <div class="col-6" id="total-sum-checkout"></div>
            </div>
            <button class="btn btn-primary checkout toPay">К оплате</button>
        </div>
    </div>
</div>



            <script id="widget-wfp-script" language="javascript" type="text/javascript" src="demo.shop.wayforpay.com_files/pay-widget.js"></script>

        <script>
            var checkOrderStatusInterval = null;
            var wayforpay   = new Wayforpay();
            window.addEventListener("message", function (event) {
                if (event.data === 'WfpWidgetEventApproved') {
                    console.log('WfpWidgetEventApproved');
                    let modalCart = $('#modalCart');
                    if(typeof fbq === "function") {
                        fbq('track', 'Purchase', {currency: modalCart.data('currency'), value: modalCart.data('sum')});
                    }
                    if(typeof gtag === "function") {
                        gtag("event", "purchase", {
                            currency: modalCart.data('currency'),
                            transaction_id: Cache.get('orderRef'),
                            value: modalCart.data('sum'),
                            items: modalCart.data('items')
                        });
                    }
                    resetCart();
                    setLoopCheckPayStatus();
                    wayforpay.closeit();
                    setTimeout(function () {
                        $('body').removeClass('wfp-widget-open');
                    }, 100);
                    showOverlay();

                } else if (event.data === 'WfpWidgetEventDeclined') {
                    console.log('WfpWidgetEventDeclined');
                    $('#modalCart').modal('hide');
                    setTimeout(function () {
                        $('body').removeClass('wfp-widget-open');
                    }, 100);

                } else if (event.data === 'WfpWidgetEventPending') {
                    console.log('WfpWidgetEventPending');
                    resetCart();
                    setLoopCheckPayStatus();
                    wayforpay.closeit();
                    setTimeout(function () {
                        $('body').removeClass('wfp-widget-open');
                    }, 100);
                    showOverlay();

                } else if (event.data === 'WfpWidgetEventClose') {
                    console.log('WfpWidgetEventClose');
                    $('#modalCart').modal('hide');
                    removeOverlay();
                }
            });

        </script>
    
    <script>

        var resetCart = function() {
            console.log('resetCart');
            $(document).trigger('checked.cart');
            Cache.remove('orderRef');
            $('#modalCart .checkout-dialog form').trigger("reset");
            $('#modalCart').data('currency', '').data('sum', '').data('items', '');
            let radioDelivery = $('#radioDelivery');
            if(radioDelivery.length) {
                radioDelivery.trigger('click');
            }
            let radioPaymentOnline = $('#radioPaymentOnline');
            if(radioPaymentOnline.length) {
                radioPaymentOnline.trigger('click');
            }
        }

        var setLoopCheckPayStatus = function() {
            let modalCart = $('#modalCart');
            checkOrderStatus();
            if (checkOrderStatusInterval) {
                clearInterval(checkOrderStatusInterval);
                checkOrderStatusInterval = null;
            }
            if(modalCart.hasClass('open')) {
                modalCart.modal('hide').one('hidden.bs.modal', function () {
                    checkOrderStatusInterval = setInterval(checkOrderStatus, 1000);
                });
            } else {
                checkOrderStatusInterval = setInterval(checkOrderStatus, 1000);
            }
        }

        var validateFormToPay = function() {
            let modalCart = $('#modalCart');
            modalCart.find('.required').validator('noEmpty');
            modalCart.find('.phone').validator('phone');
            modalCart.find('#inputFio').validator('fio');

            if(modalCart.find('.has-error').length === 0) {
                if($('#radioDelivery:checked').length) {
                    $('.service').removeClass('d-none').find('input,select,textarea').addClass('required');
                    $('.forDelivery').css({opacity: 1});
                }
                return true;
            }
            let element = modalCart.find('.has-error').eq(0);
            if($(window).width() > 767) {
                let container = modalCart.find('.checkout-dialog .modal-body');
                container.animate({
                    scrollTop: element.position().top + container.scrollTop() - container.position().top
                }, 400);
            } else {
                modalCart.animate({
                    scrollTop: element.position().top + modalCart.scrollTop() + modalCart.find('.checkout-dialog').position().top
                }, 400);
            }
            return false;
        }

        var getOrderRef = function() {
            let orderRef = Cache.get('orderRef');
            if(!orderRef) {
                $.ajax({
                    url: '/shop/default/get-order-ref?_sad=tvsnrogabmntplodvquc87qn02',
                    type: 'get',
                    dataType: 'json',
                    data: {}
                })
                    .done(function (data) {
                        if (data !== undefined && data.status && !!data.order_ref) {
                            Cache.set('orderRef', data.order_ref, data.duration);
                            $('#orderRef').text(data.order_ref);
                            $(document).trigger('save.cart');
                        }
                    });
            }
            $('#orderRef').text(orderRef);
            $('#infoOrderRef').text(orderRef);
        }

        var saveCart = function(products, totalPrice) {
            let srcEl = $('.toPay');
            if(srcEl.siblings('.cart-loader').length) {
                return false;
            }
            srcEl.closest('div').append('<div class="cart-loader"><div class="dot-floating"></div></div>');
            srcEl.css({opacity: 0.1});

            let deliverySum = parseFloat($('#delivery-sum').text().replace(/[^\d\.]+/, ''));
            let data = getFormData($('#formCheckout'));
            data.order_ref = Cache.get('orderRef');
            data.cart_prods = products;
            data.sum = totalPrice + deliverySum;
            data.language = 'ru';
            let csrfParam = $('meta[name="csrf-param"]').attr("content");
            data[csrfParam] = $('meta[name="csrf-token"]').attr("content");

            if(!data.order_ref) {
                $(document).one('save.cart', function() {
                    saveCart(products, totalPrice);
                });
                return false;
            }

            $.ajax({
                url: '/shop/default/save-cart?_sad=tvsnrogabmntplodvquc87qn02',
                type: 'post',
                dataType: 'json',
                data: data
            })
                .done(function (data) {
                    if (data && data.status && !!data.params) {
                        let modalCart = $('#modalCart');
                        modalCart.modal('hide');
                        modalCart.data('sum', totalPrice + deliverySum);
                        if(typeof fbq === "function") {
                            fbq('track', 'InitiateCheckout', {currency: modalCart.data('currency'), value: modalCart.data('sum')});
                        }
                        if(typeof gtag === "function") {
                            let items = [];
                            for (const i in products) {
                                let item = {
                                    id: products[i].id,
                                    name: products[i].name,
                                    quantity: products[i].quantity,
                                    price: products[i].price,
                                };
                                if(products[i].modsCnt > 1) {
                                    item.variant = products[i].mod.name;
                                }
                                items.push(item);
                            }
                            gtag("event", "begin_checkout", {
                                value: modalCart.data('sum'),
                                currency: modalCart.data('currency'),
                                items: items
                            });
                            modalCart.data('items', items);
                        }

                        if($('#radioPaymentOnDelivery:checked').length === 0) {
                            wayforpay.run(data.params);
                            let orderRef = data.params.orderReference;
                            let pendingOrders = Cache.get('pendingOrders') || {};
                            pendingOrders[orderRef] = {lastStatus: '', checkCnt: 0};
                            Cache.set('pendingOrders', pendingOrders, 60 * 60 * 24 * 4);
                        } else {
                            $('main > .container').addClass('d-none');
                            let modalInfo = $(data.params.html);
                            $('main').append(modalInfo);
                            if(typeof fbq === "function") {
                                fbq('track', 'Purchase', {currency: modalCart.data('currency'), value: modalCart.data('sum')});
                            }
                            if(typeof gtag === "function") {
                                gtag("event", "purchase", {
                                    currency: modalCart.data('currency'),
                                    transaction_id: Cache.get('orderRef'),
                                    value: modalCart.data('sum'),
                                    items: modalCart.data('items')
                                });
                            }
                            $(document).scrollTop(0);
                            resetCart();
                            setTimeout(function () {
                                window.goBackFunction = function() {
                                    modalInfo.find('.close-info').trigger('click');
                                }
                            }, 600);
                            modalInfo.find('.close-info').one('click', function () {
                                modalInfo.remove();
                                $('main > .container').removeClass('d-none');
                                window.goBackFunction = false;
                            })

                        }
                    } else {
                        let alert = $('<div class="alert alert-danger alert-dismissible p-0 text-center fade show" role="alert">Произошла ошибка</div>');
                        srcEl.before(alert);
                        setTimeout(function () {
                            alert.animate({
                                opacity: 0,
                                height: 0
                            }, 500, function () {
                                alert.remove();
                            });
                        }, 2000);

                        if(data && data.error) {
                            console.log(data.message)
                        }
                    }
                    srcEl.siblings('.cart-loader').remove();
                    srcEl.css({opacity: 1});
                });
        }

        var getFormData = function($form){
            var unindexed_array = $form.serializeArray();
            var indexed_array = {};

            $.map(unindexed_array, function(n, i){
                indexed_array[n['name']] = n['value'];
            });

            return indexed_array;
        }

        var checkOrderStatus = function () {
            let pendingOrders = Cache.get('pendingOrders') || {};
            let data = {};
            let csrfParam = $('meta[name="csrf-param"]').attr("content");
            data[csrfParam] = $('meta[name="csrf-token"]').attr("content");
            if(Object.keys(pendingOrders).length) {
                let ordersList = Object.keys(pendingOrders);
                data['orders'] = ordersList;
                $.ajax({
                    url: '/shop/default/check-payment-status?_sad=tvsnrogabmntplodvquc87qn02',
                    type: 'post',
                    data: data
                })
                    .done(function (data) {
                        if (!!data.orders) {
                            ordersList.forEach(function (orderRef) {
                                pendingOrders[orderRef].checkCnt = pendingOrders[orderRef].checkCnt || 0;
                                if(data.orders[orderRef] !== undefined) {
                                    if(++pendingOrders[orderRef].checkCnt > 450) {
                                        delete pendingOrders[orderRef];
                                    } else {
                                        pendingOrders[orderRef].lastStatus = pendingOrders[orderRef].lastStatus || '';
                                        if (pendingOrders[orderRef].lastStatus !== data.orders[orderRef].transactionStatus) {
                                            pendingOrders[orderRef].lastStatus = data.orders[orderRef].transactionStatus;
                                            let prevModalInfo = $('#modalInfo-' + orderRef);
                                            if (!!data.orders[orderRef].html) {
                                                removeOverlay();
                                                let modalInfo = $(data.orders[orderRef].html);
                                                let viewWindow = !!data.orders[orderRef].asModal
                                                    ?   function () {
                                                            $('body').append(modalInfo);
                                                            modalInfo.modal('show').one('shown.bs.modal', function () {
                                                                $('body').addClass('modal-open');
                                                            }).one('hidden.bs.modal', function () {
                                                                modalInfo.modal('dispose');
                                                                modalInfo.remove();
                                                            });
                                                        }
                                                    :   function () {
                                                            $('main').append(modalInfo);
                                                            $(document).scrollTop(0);
                                                            $('main > .container').addClass('d-none');
                                                            setTimeout(function () {
                                                                window.goBackFunction = function() {
                                                                    modalInfo.find('.close-info').trigger('click');
                                                                }
                                                            }, 500);
                                                            modalInfo.find('.close-info').one('click', function () {
                                                                modalInfo.remove();
                                                                $('main > .container').removeClass('d-none');
                                                                window.goBackFunction = false;
                                                            });
                                                        };
                                                if (prevModalInfo.length !== 0) {
                                                    prevModalInfo.modal('hide').one('hidden.bs.modal', function () {
                                                        viewWindow();
                                                    });
                                                } else {
                                                    viewWindow();
                                                }
                                            } else {
                                                console.log('Unknown transaction status: ' + data.orders[orderRef].transactionStatus);
                                            }
                                        }

                                        if (data.orders[orderRef].transactionStatus === 'Approved') {
                                            resetCart();
                                            delete pendingOrders[orderRef];
                                        }
                                    }
                                } else if(++pendingOrders[orderRef].checkCnt > 420){
                                    delete pendingOrders[orderRef];
                                }
                            });
                            if (Object.keys(pendingOrders).length) {
                                Cache.set('pendingOrders', pendingOrders, 60 * 60 * 24 * 4);
                            } else {
                                Cache.remove('pendingOrders');
                            }
                        }
                    });
            } else {
                clearInterval(checkOrderStatusInterval);
                checkOrderStatusInterval = null;
                Cache.remove('pendingOrders');
            }
        }

        var showOverlay = function (without_loading) {
            var over = (without_loading)
                ? '<div id="overlay" class="overlay"></div>'
                : '<div id="overlay" class="loading">Loading&#8230;</div>';
            if ($('#overlay').length > 0) {
                return;
            }
            $('body').css({overflowY: 'hide'})
            $(over).appendTo('body');
        };

        var removeOverlay = function () {
            var over = $('#overlay');
            if (over.length > 0) {
                over.remove();
            }
            $('body').css({overflowY: ''})
        };

    window.addEventListener('load', function() {

        
        $('.phone').bind('keyup paste change', function(){
            this.value = this.value.replace(/[^\d]/ug, '');
        });

        $('#inputFio').bind('keyup paste change', function(){
            this.value = this.value.replace(/[^a-zA-ZаАбБвВгГдДеЕёЁжЖзЗиИйЙкКлЛмМнНоОпПрРсСтТуУфФхХцЦчЧшШщЩъЪыЫьЬэЭюЮяЯҐґЄєІіЇї \-]/ug, '');
        });

        let selectService = $('#selectService');
        let selectArea = $('#selectArea');
        let selectCity = $('#selectCity');
        let selectDep = $('#selectDep');
        let servicePickupSelect = $('.servicePickup.fromCity select');
        let modalBody =  $('#modalCart .checkout-dialog .modal-body');
        let select2options = {
            theme: "shop",
            placeholder: "",
            minimumResultsForSearch: -1,
            language: "ru",
        };

        $('input[name="payment_option"]').on('click', function () {
            if($('input[name="payment_option"]:checked').val() === 'onDelivery') {
                $('button.toPay').text('Подтвердить заказ');
            } else {
                $('button.toPay').text('К оплате');
            }
        });

        $('.servicePickup select[name="deliveryFromCity"]').on('change', function () {
            let deliveryFromPoint = $('.servicePickup select[name="deliveryFromPoint"]');
            let cityName = $(this).val();

            if($(this).val().length) {
                deliveryFromPoint.closest('.form-group').addClass('d-none');
                serviceRequest(
                    '/shop/delivery/deps',
                    servicePickupSelect,
                    { type: 'pickup', city: cityName },
                    function(data) {
                        deliveryFromPoint.find('option[value]').remove();
                        deliveryFromPoint.trigger('focusin');
                        for (let i in data) {
                            deliveryFromPoint.append('<option value="' + i + '">' + data[i] + '</option>')
                        }
                        if(Object.keys(data).length === 1) {
                            deliveryFromPoint.find('option').eq(1).prop('selected', true);
                        }
                        deliveryFromPoint.closest('.form-group').removeClass('d-none');
                        deliveryFromPoint.addClass('required').select2(select2options);
                        $('#modalCart').scrollTop($(document).height())
                        modalBody.off('scroll'); // выключаем блокировку скролла, установленную select2, при выбросе списка наверх.
                        modalBody.animate({scrollTop: modalBody.find('#formCheckout').height()});
                    }
                );

            }
        });

                    $('input[name="delivery_option"]').on('click', function () {
            let servicePickupBlock = $('.servicePickup');
            if($('input[name="delivery_option"]:checked').val() === 'delivery') {
                $('.forDelivery').animate({opacity: 1}, 200, function () {
                    $('.service').removeClass('d-none').find('input,select,textarea').addClass('required');
                    if(servicePickupBlock.length) {
                        servicePickupBlock.addClass('d-none');
                        if(servicePickupSelect.length) {
                            servicePickupSelect.removeClass('required');
                        }
                    }
                });
                selectService.val(null).trigger("change");
                setTimeout(function() {
                    if(selectService.siblings('.select2').length !== 0) {
                        selectService.select2('destroy');
                    }
                    selectService.select2($.extend({}, select2options, {
                        escapeMarkup: function(markup) {
                            return markup;
                        },
                        templateResult: function(data) {
                            data.html2 = data.text;
                            if(!!data.id) {
                                data.html2 =
                                    '<div style="width:80px;display:inline-block;">' +
                                    '    <img src="/img/delivery/' + data.id + '.png" alt="' + data.text + '" style="max-height:32px;max-width:65px;">' +
                                    '</div>' +
                                    data.text;
                            }
                            return data.html2;
                        },
                        templateSelection: function(data) {
                            return data.html2 || data.text;
                        }
                    }));
                }, 250);
            } else {
                $('.forDelivery').animate({opacity: 0}, 200, function () {
                    $(this).addClass('d-none').find('input,select,textarea').removeClass('required').parent().eq(0).removeClass('has-error').find('.help-block').remove();
                    if(servicePickupBlock.length) {
                        if(servicePickupBlock.hasClass('fromCity')) {
                            $('.servicePickup.fromCity').removeClass('d-none').find('select').val('').trigger('change').trigger('focusin');
                            if (servicePickupBlock.find('select').length) {
                                servicePickupBlock.find('select').addClass('required').select2(select2options);
                            }
                        } else if(servicePickupBlock.hasClass('fromAddress')) {
                            servicePickupBlock.removeClass('d-none');
                            if (servicePickupBlock.find('select').length) {
                                servicePickupBlock.find('select').addClass('required').select2(select2options);
                            }
                        } else {
                            servicePickupBlock.removeClass('d-none');
                        }
                    }
                });
            }
        });
        
        $('#checkout').on('click', function () {
            $(this).closest('.modal').removeAttr('tabindex');
            let modalCart = $('#modalCart');
            modalCart.data('bs.modal')._config.backdrop = 'static';
            modalCart.on('hidden.bs.modal', function () {
                modalCart.data('bs.modal')._config.backdrop = true;
            });
            getOrderRef();
            selectService.val(null).trigger("change");
            if($('input[name=delivery_option]:checked').val() === 'delivery') {
                selectService.addClass('required')
                setTimeout(function () {
                    selectService.select2($.extend({}, select2options, {
                        escapeMarkup: function (markup) {
                            return markup;
                        },
                        templateResult: function (data) {
                            data.html2 = data.text;
                            if (!!data.id) {
                                data.html2 =
                                    '<div style="width:80px;display:inline-block;">' +
                                    '    <img src="/img/delivery/' + data.id + '.png" alt="' + data.text + '" style="max-height:32px;max-width:65px;">' +
                                    '</div>' +
                                    data.text;
                            }
                            return data.html2;
                        },
                        templateSelection: function (data) {
                            return data.html2 || data.text;
                        }
                    }));
                }, 100);
            } else {
                setTimeout(function () {
                    $('.servicePickup:not(.d-none) select').select2(select2options);
                }, 100);
            }
        });

            selectService.on('change', function () {
                let block = selectArea.closest('.form-group');
                $('.chooseService').addClass('d-none').find('input,select,textarea').removeClass('required');
                selectArea.html('<option hidden></option>');

                if($(this).val() == 'other') {
                    $('.serviceAddress').removeClass('d-none').find('input,select,textarea').addClass('required');
                }

                if($(this).val().length) {
                    serviceRequest(
                        '/shop/delivery/areas',
                        selectService,
                        { type: $(this).val() },
                        function(data) {
                            for (let i in data) {
                                selectArea.append('<option value="' + i + '">' + data[i] + '</option>')
                            }
                            block.removeClass('d-none');
                            selectArea.addClass('required').select2(select2options);
                            $('#modalCart').scrollTop($(document).height())
                            modalBody.off('scroll'); // выключаем блокировку скролла, установленную select2, при выбросе списка наверх.
                            modalBody.animate({scrollTop: modalBody.find('#formCheckout').height()});
                        }
                    );

                }
            })

            selectArea.on('change', function () {
                let block = selectCity.closest('.form-group');
                $('.chooseArea').addClass('d-none').find('input,select,textarea').removeClass('required');
                selectCity.html('<option hidden></option>');

                serviceRequest(
                    '/shop/delivery/cities',
                    selectArea,
                    { type: $('#selectService').val(), area: $(this).val() },
                    function(data) {
                        for(let i in data) {
                            selectCity.append('<option value="' + i + '">' + data[i] + '</option>')
                        }
                        block.removeClass('d-none');
                        selectCity.addClass('required').select2($.extend({}, select2options, {
                            minimumResultsForSearch: 0,
                            maximumSelectionLength: 3,
                            minimumInputLength: 0,
                        }));
                        $('#modalCart').scrollTop($(document).height())
                        modalBody.off('scroll'); // выключаем блокировку скролла, установленную select2, при выбросе списка наверх.
                        modalBody.animate({scrollTop: modalBody.find('#formCheckout').height()});
                    }
                );

            })

            selectCity.on('change', function () {
                let block = selectDep.closest('.form-group');
                $('.chooseCity').addClass('d-none').find('input,select,textarea').removeClass('required');
                selectDep.html('<option hidden></option>');

                serviceRequest(
                    '/shop/delivery/deps',
                    selectCity,
                    { type: $('#selectService').val(), city: $(this).val() },
                    function(data) {
                        for(let i in data) {
                            selectDep.append('<option value="' + i + '">' + data[i] + '</option>')
                        }
                        block.removeClass('d-none');
                        selectDep.addClass('required').select2(select2options);
                        $('#modalCart').scrollTop($(document).height())
                        modalBody.off('scroll'); // выключаем блокировку скролла, установленную select2, при выбросе списка наверх.
                        modalBody.animate({scrollTop: modalBody.find('#formCheckout').height()}, 400, function () {
                            if(Object.keys(data).length === 1) {
                                selectDep.find('option').eq(1).prop('selected', true);
                                selectDep.trigger('input').trigger('change')
                            }
                        });
                    }
                );
            })

            var serviceRequest = function(url, srcEl, dataObj, doneCallback) {
                srcEl.closest('div').append('<div class="cart-loader"><div class="dot-floating"></div></div>');
                dataObj['_sad'] = 'tvsnrogabmntplodvquc87qn02';
                let urlPrefix = "";
                $.ajax({
                    url: urlPrefix + url,
                    type: 'get',
                    dataType: 'json',
                    data: dataObj
                })
                    .done(function (data) {
                        if(data !== undefined && !$.isEmptyObject(data) && data.status !== false) {
                            doneCallback(data);
                        }
                        srcEl.siblings('.cart-loader').remove();
                    });
            }

        });
    </script>

</div>




<script>
    var intervalViewProd;
    window.addEventListener('load', function() {
        let readMoreText = "Подробнее";
        let readLessText = "Скрыть";
        let prodDescMaxHeight = 295;

        $('.shopping-basket').click(function (e) {
            $('#modalCart').modal('show');
        });

        $('#checkout').on('click', function () {

            let modalCart = $('#modalCart');

            $('body').addClass('double')
            modalCart.addClass('double-modal');
            modalCart.find('.checkout-dialog').show();
            modalCart.animate({scrollTop: $('.checkout-dialog').offset().top}, 500, 'swing');
            modalCart.one('hidden.bs.modal', function () {
                $(this).find('.checkout-dialog').hide();
                $(this).removeClass('double-modal');
                $('body').removeClass('double');
            });

        });

        $('#modalProdToCart #volume').on('change', function () {
            var cart = $(this).closest('.cart');
            var mods = cart.data('mods');
            var modId = cart.find('#volume').val();
            var quantity = cart.find('#amount').val()
            cart.find('#sum').val(parseFloat(mods[modId].price * quantity).toFixed(2).replace(/\d(?=(\d{3})+\.)/g, '$& ') + ' ' + mods[modId].currency);
            cart.data('id', modId);
            cart.data('price', mods[modId].price);
            cart.data('currency', mods[modId].currency);
            initReadMoreText(cart.find('.prod-desc'), mods[modId].desc);
        });

        changeAmountSelect = function(el) {
            let quantityBlock = $(el).siblings('.quantity');
            let inputEl = quantityBlock.find('input[type="number"]');
            let quantity = $(el).val();
            inputEl.val(quantity);
            if(+quantity === 1) {
                quantityBlock.find('.quantity-down').css({color: 'rgba(0, 0, 0, 0.2)'});
            } else {
                quantityBlock.find('.quantity-down').css({color: 'rgba(51, 51, 51)'});
            }
            inputEl.trigger("change");
        };

        $('#total-sum').on('DOMSubtreeModified', function () {
            let currency = $('#modalCart').data('currency');
            let deliverySum = parseFloat($('#delivery-sum').text().replace(/[^\d\.]+/, ''));
            let totalCartSum = parseFloat($('#total-sum').text().replace(/[^\d\.]+/, ''));
            if(!isNaN(deliverySum) && !isNaN(totalCartSum)) {
                $('#total-sum-checkout').text((deliverySum + totalCartSum).toFixed(2).replace(/\d(?=(\d{3})+\.)/g, '$& ') + ' ' + currency);
            }
        })

        setTimeout(function () {
            $('#modalProdToCart #amount').on('change', function () {
                var cart = $(this).closest('.cart');
                var price = cart.data('price');
                var currency = cart.data('currency');
                var quantity = cart.find('#amount').val()
                cart.find('#sum').val(parseFloat(price * quantity).toFixed(2).replace(/\d(?=(\d{3})+\.)/g, '$& ') + ' ' + currency);
            });
        }, 100);

        $(document).on('click', '#modalCart .toShoping', function () {
            let modalInfo = $('#modalInfo');
            if(modalInfo.length) {
                modalInfo.find('.close-info').trigger('click');
            }
        });


        function htmlEncode(value){
            return $('<div/>').text(value).html();
        }

        function htmlDecode(value){
            return $('<div/>').html(value).text();
        }



        function initReadMoreText(el, text) {
            let allText = '<p>' + htmlDecode(text).trim().split(/\r?\n/).join('</p><p>') + '</p>';
            el.html(allText);
            el.css('height', '100%').css('max-height', '100%');
            if(el.outerHeight() > 400) {
                el.siblings('.readMore').removeClass('d-none').text(readMoreText);
                el.css('height', prodDescMaxHeight);
            } else {
                el.siblings('.readMore').addClass('d-none').text(readMoreText);
            }
        }

        $(document).on('click', ".readMore", function(e) {
            e.preventDefault();
            let prodDesc = $(".prod-desc");
            if ($(this).text() === readMoreText ) {
                $(".readMore").text(readLessText);
                prodDesc
                    .css({
                        "height": prodDesc.height(),
                        "max-height": 9999
                    })
                    .animate({
                        "height": '100%'
                    }, 600);
            } else {
                $(".readMore").text(readMoreText);
                prodDesc
                    .css({
                        "height": '100%',
                    })
                    .animate({
                        "height": prodDescMaxHeight,
                        "max-height": prodDescMaxHeight
                    }, 600);
            }
        });



        $(document).myCart('.toBasket', {
            classCartIcon: 'shopping-basket',
            classCartBadge: 'basket-count',
            classProductRemove: 'prod-remove',
            classProductQuantity: 'prod-amount',
            classCartProduct: 'cart-prod',
            classCheckoutCart: 'toPay',
            idCartModal: 'modalCart',
            idCartTable: 'cartTable',
            idGrandTotal: 'total-sum',
            idEmptyCartMessage: 'empty-cart-message',
            pauseBeforeChangeCartBage: 650,


            checkoutCart: function(products, totalPrice) {
                let isValidForm = false;
                if(validateFormToPay !== undefined && typeof validateFormToPay === 'function') {
                    isValidForm = validateFormToPay();
                }

                if(isValidForm && saveCart !== undefined && typeof saveCart === 'function') {
                    saveCart(products, totalPrice);
                }

                return false;
            },

            showModalProdToCart: function($target, $calbackAfter, $callbakAddToCart) {
                if(intervalViewProd) {
                    clearInterval(intervalViewProd);
                }
                var modalProdToCart = $('#modalProdToCart');
                let queryString = document.location.search;
                let urlParams = new URLSearchParams(queryString);
                let prodId = $target.data('id');
                if(!urlParams.has('prod')) {
                    urlParams.set('prod', $target.data('id'));
                }
                history.replaceState({}, null, document.location.origin + document.location.pathname + '?' + urlParams.toString());

                $.ajax({
                    url: '/shop/default/get-prod-params?_sad=tvsnrogabmntplodvquc87qn02',
                    type: 'post',
                    dataType: 'json',
                    data: {id: prodId}
                })
                    .done(function (data) {
                        if(data !== undefined && !$.isEmptyObject(data) && data.status) {
                            var urls = [
                                data.item.image,
                            ];
                            if(data.item.extImages.length) {
                                urls = urls.concat(data.item.extImages);
                            }
                            $('#myGallery').zoomy(urls);
                            var image = data.item.image;
                            var name = data.item.name;
                            let mods = data.item.mods;
                            var modsCnt = Object.values(mods).length;
                            let cartCurrency = $('#modalCart').data('currency');

                            let firstModId = Object.keys(mods)[0];
                            let firstMod = mods[firstModId];
                            firstMod.desc = !!firstMod.desc ? firstMod.desc : data.item.desc;
                            modalProdToCart.find('.modal-header .prod-title').text(htmlDecode(data.item.name));
                            modalProdToCart.find('.cart').data('mods', mods);
                            modalProdToCart.find('.cart .prod-img').attr('src', data.item.image);
                            modalProdToCart.find('.cart #amount').val(1);
                            modalProdToCart.find('.cart .amount-select').val(1);
                            modalProdToCart.find('.cart #volume').empty();
                            if(modsCnt === 1) {
                                modalProdToCart.find('.cart #volume').closest('.form-group').addClass('d-none');
                            } else {
                                modalProdToCart.find('.cart #volume').closest('.form-group').removeClass('d-none');
                            }
                            let isFirst = true;
                            let prodDesc = ''
                            for (var modId in mods) {
                                modalProdToCart.find('.cart #volume').append('<option value="' + modId + '" data-desc="' + mods[modId].desc + '" >' + mods[modId].name + '</option>');
                                if (isFirst) {
                                    prodDesc = mods[modId].desc;
                                    modalProdToCart.find('.cart #sum').val(parseFloat(mods[modId].price).toFixed(2).replace(/\d(?=(\d{3})+\.)/g, '$& ') + ' ' + mods[modId].currency);
                                    modalProdToCart.find('.cart').data('id', modId);
                                    modalProdToCart.find('.cart').data('price', mods[modId].price);
                                    modalProdToCart.find('.cart').data('currency', mods[modId].currency);
                                    isFirst = false;
                                }
                            }
                            let isExtDesc = false;
                            modalProdToCart.find('.extDesc .span-link').attr('href', '').addClass('d-none');
                            if(data.item.descLink) {
                                modalProdToCart.find('.extDesc .descLink').attr('href', data.item.descLink).removeClass('d-none');
                                isExtDesc = true;
                            }
                            if(data.item.descVideo) {
                                modalProdToCart.find('.extDesc .descVideo').attr('href', data.item.descVideo).removeClass('d-none').css({'float':'right'});
                                if(!isExtDesc) {
                                    modalProdToCart.find('.extDesc .descVideo').css({'float':'left'});
                                }
                                isExtDesc = true;
                            }
                            if(isExtDesc) {
                                modalProdToCart.find('.extDesc').removeClass('d-none');
                            } else {
                                modalProdToCart.find('.extDesc').addClass('d-none');
                            }

                            modalProdToCart.modal('show')
                                .on('shown.bs.modal', function () {
                                    initReadMoreText(modalProdToCart.find('.cart .prod-desc'), prodDesc);
                                })
                                .on('hidden.bs.modal', function () {
                                    let queryString = document.location.search;
                                    let urlParams = new URLSearchParams(queryString);
                                    if(urlParams.has('prod')) {
                                        urlParams.delete('prod');
                                    }
                                    history.replaceState({}, null, document.location.origin + document.location.pathname + (urlParams.toString().length ? ('?' + urlParams.toString()) : ''));
                                    $(this).find('.prod-desc').css({
                                        "height": 'auto',
                                        "max-height": prodDescMaxHeight
                                    });
                                });

                            $('#add-prod-to-cart').off('click').on('click', function () {

                                modalProdToCart.one('hidden.bs.modal', function () {
                                    var id = modalProdToCart.find('.cart').data('id');
                                    var price = modalProdToCart.find('.cart').data('price');
                                    var currency = mods[id].currency;
                                    var quantity = modalProdToCart.find('.cart #amount').val();
                                    if(!!cartCurrency && cartCurrency !== currency) {
                                        $('#modalErrors').modal('show').find('.modal-body').html('В корзину можно добавить тольки товары с одинаковой валютой. <br>В данный момент в корзине уже есть товары с валютой: ' + cartCurrency);
                                        return false;
                                    }
                                    $callbakAddToCart(id, name, price, quantity, image, mods[id], modsCnt);
                                    $calbackAfter($target);
                                    if(typeof fbq === "function") {
                                        fbq('track', 'AddToCart', {content_name: name, currency: currency, value: price});
                                    }
                                    if(typeof gtag === "function") {
                                        let item = {
                                            id: id,
                                            name: name,
                                            price: price,
                                            quantity: quantity,
                                        };
                                        if(modsCnt > 1) {
                                            item.variant = mods[id].name;
                                        }
                                        gtag('event', 'add_to_cart', {
                                            currency: currency,
                                            items: [item],
                                            value: price * quantity
                                        });
                                    }
                                }).modal('hide');
                            });

                        }
                    });
            },

            clickOnAddToCart: function($addTocartBtn){
                var $cartIcon = $(".shopping-basket");
                var $basketImg = $addTocartBtn.find('.card-basket > img');
                let mainPositionTop = $basketImg.offset().top - $(window).scrollTop();
                let mainPositionLeft = $basketImg.offset().left;
                var $image = $('<img src="' + $basketImg.attr("src") + '"/>')
                    .css({
                        "position": "fixed",
                        "z-index": "1050",
                        "top": mainPositionTop,
                        "left": mainPositionLeft,
                        'background-color': '#ffffff',
                        'border-radius': '50%',
                        'height': $basketImg.height() +'px',
                        'width': $basketImg.width() + 'px',
                    });

                $addTocartBtn.prepend($image);
                var position = $cartIcon.position();

                $image
                    .animate({
                        top: mainPositionTop + 100,
                        left: mainPositionLeft,
                        height: ($image.height() * 2) +'px',
                        width: ($image.width() * 2) + 'px',
                    }, 200 , "linear")
                    .animate({
                        top: position.top + ($cartIcon.height() / 2),
                        left: position.left + ($cartIcon.width() / 2),
                        opacity: 0.3,
                        height: '10px',
                        width: '10px',
                    }, 500 , "swing", function() {
                        $image.remove();
                    });

            },

            renderModalWindow: function() {
                let labelCart = 'Корзина';
                let html =
                    '<div id="modalCart" class="fade right modal" role="dialog" tabindex="-1" aria-labelledby="modalCart-label" style="padding-right: 15px; display: block;" aria-modal="true">\n' +
                    '    <div class="modal-dialog " role="document">\n' +
                    '        <div class="modal-content">\n' +
                    '            <div class="modal-header">\n' +
                    '                <h5 id="modalCart-label" class="modal-title">' + labelCart + '</h5>\n' +
                    '                <button type="button" class="close" data-dismiss="modal"></button>\n' +
                    '            </div>\n' +
                    '            <div class="modal-body">\n' +
                    '                <div id="cartTable" class="cart"></div>\n' +
                    '            </div>\n' +
                    '            <div class="modal-footer">\n' +
                    '            </div>\n' +
                    '        </div>\n' +
                    '     </div>\n' +
                    '</div>';

                return html;
            },

            renderCartProd: function(id, price, renderedPrice, image, name, quantity, mod, modsCnt) {
                let html = $(
                '<div class="cart-prod" data-id="' + id + '" data-price="' + price + '" data-currency="' + (!!mod.currency ? mod.currency : 'UAH') + '">\n'+
                '        <img src="' + image + '" alt="" class="prod-img">\n'+
                '        <div class="prod-params w-100">\n'+
                '            <span class="prod-title">' + name + '</span>\n'+
                '            <form class="mt-3">\n'+
                (modsCnt > 1
                    ?  ('                <div class="form-group row">\n' +
                        '                    <label for="type-' + id + '" class="col-form-label col-5">Тип</label>\n' +
                        '                    <input type="text" readonly class="form-control-plaintext col-7" id="volume-' + id + '" value="' + (mod.name.length ? mod.name : '') + '">\n' +
                        '                </div>\n')
                    :   '') +
                '                <div class="form-group row">\n'+
                '                    <label for="amount-' + id + '" class="col-form-label col-5">Кол-во</label>\n'+
                '                    <input type="number" class="form-control col-7 prod-amount" id="amount-' + id + '" min="1" value="' + quantity + '" >\n'+
                '                    <select class="form-control  col-7 amount-select" onchange="changeAmountSelect(this)"  value="' + quantity + '">\n'+
                '                    </select>\n'+
                '                </div>\n'+
                '                <div class="form-group row">\n'+
                '                    <label for="sum-' + id + '" class="col-form-label col-5">Сумма</label>\n'+
                '                    <input type="text" readonly class="form-control-plaintext col-7 sum" id="sum-' + id + '" value="' + renderedPrice + '">\n'+
                '                </div>\n'+
                '            </form>\n'+
                '        </div>\n'+
                '        <button type="button" class="close prod-remove"></button>\n'+
                '    </div>');

                let maxQuantity = +quantity > 20 ? +quantity : 20;
                maxQuantity = +maxQuantity > 999 ? 999 : +maxQuantity;
                let amountSelect = html.find('.amount-select');
                for(let i = 1; i <= maxQuantity; i++) {
                    amountSelect.append('<option value="' + i + '"' + (+quantity === i ? ' selected' : '') + '>' + i + '</option>');
                }
                if(+quantity > +maxQuantity) {
                    amountSelect.append('<option value="' + quantity + '" selected>' + quantity + '</option>');
                }
                return html;
            },

            renderEmptyCartMessage: function () {
                let labelEmptyCart = 'Ваша корзина еще пуста';
                let html =
                    '<div id="empty-cart-message">\n'+
                    '    <div>Ваша корзина еще пуста</div>\n'+
                    '    <div>Давайте что-нибуть выберем</div>\n'+
                    '    <img src="/img/empty-cart.svg">\n'+
                    '    <button class="btn btn-primary toShoping" data-dismiss="modal">Выбрать</button>\n'+
                    '</div>\n';
                return html;
            },

            afterRemoveProd: function ($countProds) {
                if($countProds === 0) {
                    $('#modalCart').removeClass('double-modal').find('.checkout-dialog').hide();
                    $('body').removeClass('double');
                }
            },

            loadProductsService: function (callbackFn) {
                $.ajax({
                    url: '/cart/get-products?_sad=tvsnrogabmntplodvquc87qn02',
                    type: 'post',
                    dataType: 'json',
                    data: {}
                })
                    .done(function (data) {
                        if (data !== undefined && data.status && !$.isEmptyObject(data)) {
                            callbackFn(data.products);
                        }
                    })
                    .fail(function (data) {
                        if(data.responseJSON) {
                            console.log(data.responseJSON.message || 'Undefined error');
                        } else {
                            console.log(data);
                        }
                    });
            },

            saveProductService: function (product, callbackFn) {
                if(product && product.id) {
                    $.ajax({
                        url: '/cart/save-product?_sad=tvsnrogabmntplodvquc87qn02',
                        type: 'post',
                        dataType: 'json',
                        data: {
                            product: product
                        }
                    })
                        .done(function (data) {
                            if (data.status && !$.isEmptyObject(data)) {
                                if (callbackFn && typeof callbackFn === 'function') {
                                    callbackFn(product.id, product.name, product.price, product.quantity, product.image, product.mod, product.modsCnt);
                                }
                            } else {
                                console.log(data);
                            }
                        })
                        .fail(function (data) {
                            if (data.responseJSON) {
                                console.log(data.responseJSON.message || 'Undefined error');
                            } else {
                                console.log(data);
                            }
                        });
                }
            },

            removeProductService: function (prodId) {
                if(prodId) {
                    $.ajax({
                        url: '/cart/remove-product?_sad=tvsnrogabmntplodvquc87qn02',
                        type: 'post',
                        dataType: 'json',
                        data: {
                            prodId: prodId
                        }
                    })
                        .done(function (data) {
                            if (!data.status) {
                                console.log(data);
                            }
                        })
                        .fail(function (data) {
                            if (data.responseJSON) {
                                console.log(data.responseJSON.message || 'Undefined error');
                            } else {
                                console.log(data);
                            }
                        });
                }
            },

            clearCartService: function () {
                $.ajax({
                    url: '/cart/empty-cart?_sad=tvsnrogabmntplodvquc87qn02',
                    type: 'post',
                    dataType: 'json',
                    data: {}
                })
                    .done(function (data) {
                        if (!data.status) {
                            console.log(data);
                        }
                    })
                    .fail(function (data) {
                        if (data.responseJSON) {
                            console.log(data.responseJSON.message || 'Undefined error');
                        } else {
                            console.log(data);
                        }
                    });
            },

            callbackAfterLoadEvents: function () {
                if($('#viewProd').length) {
                    intervalViewProd = setInterval(function () {
                        $('#viewProd').find('.toBasket').click();
                    }, 100);
                }
            }
        });

    });
</script>
    
<div id="modalErrors" class="fade modal" role="dialog" tabindex="-1" aria-hidden="true" aria-labelledby="modalErrors-label">
<div class="modal-dialog modal-dialog-centered" role="document">
<div class="modal-content">
<div class="modal-header">
<h5 id="modalErrors-label" class="w-100 text-center modal-title">Ошибка</h5>
<button type="button" class="close" data-dismiss="modal"></button>
</div>
<div class="modal-body">



</div>

</div>
</div>
</div>
    <script>
        window.goBackFunction = false;

        window.addEventListener('load', function() {
            $(window).on('load resize', function () {
                let footerEl = $('footer');
                let footerHeight = footerEl.height() + 40;
                $('main').css({paddingBottom: footerHeight + 'px'});
                footerEl.css({marginTop: '-' + footerHeight + 'px'});
            });
            $('.mobile .nav-link').click(function (e) {
                setTimeout(function () {
                    $('.navbar-toggler').click();
                }, 200)
                return !!$(this).attr('href').length;
            });

            $('input[type="number"]').each(initCustomInputNumber);

            var carouselControls = $('#carouselControls');
            $(document)
                .on('shown.bs.modal', '.modal', function () {
                    let modalWindow = $(this);
                    window.goBackFunction = function() {
                        modalWindow.modal('hide');
                    }
                    if(carouselControls) {
                        carouselControls.carousel('pause');
                    }

                })
                .on('hidden.bs.modal', '.modal', function () {
                    window.goBackFunction = false;
                    if(carouselControls) {
                        carouselControls.carousel('cycle');
                    }
                });
        });

        var initCustomInputNumber = function () {
            let classList = $(this).attr('class').match(/\s*(col-[^\s]+|col)\s*/g);
            if(!!classList) {
                $(this).removeClass(classList.join(' '));
            }
            var newEl = $('<div class="quantity w-100">'+$('<div />').append($(this).eq(0).clone()).html()+'<div class="quantity-nav"><div class="quantity-button quantity-up"><span class="fa fa-angle-up"></span></div><div class="quantity-button quantity-down"><span class="fa fa-angle-down"></span></div></div></div>')
            if(!!classList) {
                newEl.addClass(classList.join(' '));
            }
            classList.slice(1).forEach(function(className) {
                newEl.addClass(className);
            });
            $(this).replaceWith(newEl);
            let spinner = newEl.closest('.quantity'),
                input = spinner.find('input[type="number"]'),
                btnUp = spinner.find('.quantity-up'),
                btnDown = spinner.find('.quantity-down'),
                min = input.attr('min'),
                max = input.attr('max') || 9999;
            if(input.val() == min) {
                btnDown.css('color', 'rgba(0, 0, 0, 0.2)');
            }

            setTimeout(function () {
                input.on('input', function () {
                    let newVal = input.val().replace(/[^\d]+/ug, '');
                    if(newVal > max) {
                        newVal = newVal.slice(0, -1);
                    }
                    $(this).val(newVal);
                });
            }, 10);

            btnUp.click(function() {
                btnDown.css('color', 'inherit');
                var oldValue = parseFloat(input.val());
                if (oldValue >= max) {
                    var newVal = oldValue;
                } else {
                    var newVal = oldValue + 1;
                }
                if (newVal == max) {
                    btnUp.css('color', 'rgba(0, 0, 0, 0.2)');
                }
                input.val(newVal);
                input.trigger("change");
                if(input.closest('.quantity').length && input.closest('.quantity').siblings('.amount-select').length) {
                    input.closest('.quantity').siblings('.amount-select').val(newVal);
                }
            });

            btnDown.click(function() {
                btnUp.css('color', 'inherit');
                var oldValue = parseFloat(input.val());
                if (oldValue <= min) {
                    var newVal = oldValue;
                } else {
                    var newVal = oldValue - 1;
                }
                if (newVal == min) {
                    btnDown.css('color', 'rgba(0, 0, 0, 0.2)');
                }
                input.val(newVal);
                input.trigger("change");
                if(input.closest('.quantity').length && input.closest('.quantity').siblings('.amount-select').length) {
                    input.closest('.quantity').siblings('.amount-select').val(newVal);
                }
            });

        };

        // history go to back event
        let popHandler = () => {
            if (typeof window.goBackFunction !== 'function') {
                window.history.back()
            } else {
                window.history.forward();
                setTimeout(function() {
                    window.addEventListener('popstate', popHandler, {once: true})
                }, 50);
                window.goBackFunction();
            }
        }
        window.addEventListener('popstate', popHandler, {once: true});
        window.history.pushState(null,null,null);
    </script>

    

<script src="demo.shop.wayforpay.com_files/b989f9016ebd54e4a0532e11eb3c5ff3.js"></script>
<script type="text/javascript">$('#feedbackForm').on('afterValidate',function(){grecaptcha.execute(0);});</script>
<script type="text/javascript">jQuery(document).ready(function () {
jQuery('#modalDelivery').modal({"show":false});
jQuery('#modalPayment').modal({"show":false});
jQuery('#modalAbout').modal({"show":false});
jQuery('#modalProdToCart').modal({"show":false});
jQuery('#modalErrors').modal({"show":false});
});</script>

<div style="visibility: hidden; position: absolute; width: 100%; top: -10000px; left: 0px; right: 0px; transition: visibility 0s linear 0.3s, opacity 0.3s linear 0s; opacity: 0;"><div style="width: 100%; height: 100%; position: fixed; top: 0px; left: 0px; z-index: 2000000000; background-color: rgb(255, 255, 255); opacity: 0.5;"></div><div style="margin: 0px auto; top: 0px; left: 0px; right: 0px; position: absolute; border: 1px solid rgb(204, 204, 204); z-index: 2000000000; background-color: rgb(255, 255, 255); overflow: hidden;"><iframe title="recaptcha challenge" src="demo.shop.wayforpay.com_files/bframe.html" style="width: 100%; height: 100%;" name="c-4nqeul4inv8e" scrolling="no" sandbox="allow-forms allow-popups allow-same-origin allow-scripts allow-top-navigation allow-modals allow-popups-to-escape-sandbox allow-storage-access-by-user-activation" frameborder="0"></iframe></div></div></body></html>